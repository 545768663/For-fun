
<!DOCTYPE html>
<html>
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1.0,maximum-scale=1.0,minimum-scale=1.0,user-scalable=no">
    <script src="./jquery-3.4.1.js"></script>


    <title>锐燃油烟大数据</title>
    
    <meta charset="UTF-8">
    
    <link rel="stylesheet" href="./wodry.css">
    <link rel="stylesheet" href="./index.css">
    <link rel="stylesheet" href="./public.css">
    <script src="./echarts.min.js"></script>
    <script src="./gundo.js"></script>

    <style>
        .BMap_center {
            background-color: rgb(4,12,49) !important;
        }

        body {
            overflow-x: hidden;
        }

        .BMap_top {
            left: 1px !important;
            background-color: rgb(4,12,49) !important;
            z-index: 2 !important;
            width: 555px !important;
        }

        .BMap_bottom {
            left: 1px !important;
            background-color: rgb(4,12,49) !important;
            z-index: 2 !important;
            width: 555px !important;
        }

        .BMap_pop img {
            top: 12px;
            left: 402px;
            display: block;
        }

        .BMap_cpyCtrl {
            display: none;
        }

        .anchorBL {
            display: none;
        }
    </style>

    <script>
        $(function () {
            $('.myscroll').myScroll({
                speed: 60, //数值越大，速度越慢
                rowHeight: 30 //li的高度
            });

            $('.BottomScroll').myScroll({
                speed: 60, //数值越大，速度越慢
                rowHeight: 30 //li的高度
            });
        });

        $(document).ready(function () {
            var whei = $(window).width()
            $("html").css({ fontSize: whei / 22 });
            $(window).resize(function () {
                var whei = $(window).width();
                $("html").css({ fontSize: whei / 22 })
            });
        });
    </script>


</head>
<body>
    




<div class="main">
    <div class="header" style="position: relative;">
        <img src="./heng.png" style="height: 22px;width:28%;" />
        <img src="./left.png" style="height: 63px;width: 77px;" />
        <img src="./heng.png" style="height: 55px;width: calc(44% - 126px);" />
        <img src="./right.png" style="height: 63px;width: 77px;" />
        <img src="./heng.png" style="height: 22px;width: 27%;" />
        <div style="height: 55px;;line-height: 55px;position: absolute;left: 35%;">
            <img src="./logo.png" style="height: 50px;width: 50px;float: left;" />
            <h3 style="font-size: .38rem !important;font-weight: 700;float: left;margin-left: 10px;">刘抠门鸡儿邦恩</h3>
        </div>

        <div style="position: absolute;right: 10px;top: 0px;height: 22px;line-height: 22px;" id="time"></div>
    </div>

    <div class="center">
        <!--左边三栏-->
        <div class="center-left fl">
            <!--左一-->
            <div style="margin-bottom: .15rem;">
                <img src="./8.png" />
                <h3 style="color: white;font-size: 20px;display: inline-block;margin-left: 15px;">点位数量</h3>
            </div>
            <div class="left-top rightTop" style="position: relative;">
                <!--四个角-->
                <img src="./1.png" style="width: 42px;height: 41px;top: 0;left: 0;position: absolute;" />
                <img src="./2.png" style="width: 42px;height: 41px;top: 0;right: 0;position: absolute;" />
                <img src="./4.png" style="width: 172px;height: 43px;bottom: 0;left: 0;position: absolute;" />
                <img src="./3.png" style="width: 42px;height: 41px;bottom: 0;right: 0;position: absolute;" />


                <div class="chat">
                    <div class="top">
                        <div class="top_1">
                            <a class="left" onclick="openLayer1();">服务数量<em style="color: #ffff00;font-size: 20px;">30</em>家</a>
                            <a class="right" onclick="openLayer2();">本月新增<em style="color: #ffff00;font-size: 20px;">0</em>家</a>
                        </div>
                        <div class="top_2">
                            <a class="left" onclick="openLayer3();">在线监测数量<em style="color: #ffff00;font-size: 20px;">30</em>个</a>
                            <a class="right">工控监测数量<em style="color: #ffff00;font-size: 20px;">0</em>个</a>
                        </div>
                    </div>
                    <div class="bottom">
                        <div class="bottom_1">
                            <div id="echart0" class="allnav"></div>
                        </div>
                        <div class="bottom_2">
                            <div id="echart1" class="allnav"></div>
                        </div>
                        <div class="bottom_3">
                            <div id="echart2" class="allnav"></div>
                        </div>
                    </div>
                </div>
            </div>

            <!--左二-->
            <div style="margin-bottom: .15rem;">
                <img src="./8.png" />
                <h3 style="color: white;font-size: 20px;display: inline-block;margin-left: 15px;">点位概况</h3>
            </div>

            <div class="left-cen rightTop" style="position: relative;">
                <img src="./1.png" style="width: 42px;height: 41px;top: 0;left: 0;position: absolute;" />
                <img src="./2.png" style="width: 42px;height: 41px;top: 0;right: 0;position: absolute;" />
                <img src="./4.png" style="width: 172px;height: 43px;bottom: 0;left: 0;position: absolute;pointer-events:none;" />
                <img src="./3.png" style="width: 42px;height: 41px;bottom: 0;right: 0;position: absolute;" />

                <div class="chat">
                    <div class="content">
                        <div class="left-content">
                            <div class="top" onclick="leftCenClick(this,0);">
                                <img src="./5.png" style="width: 30px;height: 30px;margin-top: calc(25% + 15px);" />
                                <p>一级接入</p>
                            </div>

                            <div class="bottom" onclick="leftCenClick(this,1);">
                                <img src="./6.png" style="width: 30px;height: 30px;margin-top: calc(25% + 15px);" />
                                <p style="color: #6666cc;">二级接入</p>
                            </div>
                        </div>
                        <div class="right-content">
                            <div class="gun">
                                <span style="width: 35%;">点位</span>
                                <span style="width: 25%;">区域</span>
                                <span style="width: 15%;">负责人名</span>
                                <span style="width: 25%;">电话</span>
                            </div>

                            <div id="FontScroll" class="myscroll">
                                <ul id="left-cen-ul">
                                        <li>
                                            <div class="fontInner_1 clearfix">
                                                <span class="gd_span_1">桂花烤全羊</span>
                                                <span class="gd_span_2">永川</span>
                                                <span class="gd_span_3">测试</span>
                                                <span class="gd_span_4">123123123</span>
                                            </div>
                                        </li>
                                        <li>
                                            <div class="fontInner_1 clearfix">
                                                <span class="gd_span_1">双福2通道</span>
                                                <span class="gd_span_2"></span>
                                                <span class="gd_span_3"></span>
                                                <span class="gd_span_4"></span>
                                            </div>
                                        </li>
                                        <li>
                                            <div class="fontInner_1 clearfix">
                                                <span class="gd_span_1">永川区杨庆勇餐馆</span>
                                                <span class="gd_span_2"></span>
                                                <span class="gd_span_3"></span>
                                                <span class="gd_span_4"></span>
                                            </div>
                                        </li>
                                        <li>
                                            <div class="fontInner_1 clearfix">
                                                <span class="gd_span_1">永川区刘二娃餐馆</span>
                                                <span class="gd_span_2"></span>
                                                <span class="gd_span_3"></span>
                                                <span class="gd_span_4"></span>
                                            </div>
                                        </li>
                                        <li>
                                            <div class="fontInner_1 clearfix">
                                                <span class="gd_span_1">永川区韵秋餐饮店</span>
                                                <span class="gd_span_2"></span>
                                                <span class="gd_span_3"></span>
                                                <span class="gd_span_4"></span>
                                            </div>
                                        </li>
                                        <li>
                                            <div class="fontInner_1 clearfix">
                                                <span class="gd_span_1">永川区柴米油盐餐馆</span>
                                                <span class="gd_span_2">永川路</span>
                                                <span class="gd_span_3">负责人名</span>
                                                <span class="gd_span_4">13922222222</span>
                                            </div>
                                        </li>
                                        <li>
                                            <div class="fontInner_1 clearfix">
                                                <span class="gd_span_1">永川区柒陆餐馆 （农家大院）</span>
                                                <span class="gd_span_2"></span>
                                                <span class="gd_span_3"></span>
                                                <span class="gd_span_4"></span>
                                            </div>
                                        </li>
                                        <li>
                                            <div class="fontInner_1 clearfix">
                                                <span class="gd_span_1">永川区山村老灶餐饮店</span>
                                                <span class="gd_span_2"></span>
                                                <span class="gd_span_3"></span>
                                                <span class="gd_span_4"></span>
                                            </div>
                                        </li>
                                        <li>
                                            <div class="fontInner_1 clearfix">
                                                <span class="gd_span_1">永川区荣昇坊餐饮有限责任公司</span>
                                                <span class="gd_span_2"></span>
                                                <span class="gd_span_3"></span>
                                                <span class="gd_span_4"></span>
                                            </div>
                                        </li>
                                        <li>
                                            <div class="fontInner_1 clearfix">
                                                <span class="gd_span_1">永川区巧巧餐馆</span>
                                                <span class="gd_span_2"></span>
                                                <span class="gd_span_3"></span>
                                                <span class="gd_span_4"></span>
                                            </div>
                                        </li>
                                        <li>
                                            <div class="fontInner_1 clearfix">
                                                <span class="gd_span_1">永川区余朝勇餐馆（余记餐馆）</span>
                                                <span class="gd_span_2"></span>
                                                <span class="gd_span_3"></span>
                                                <span class="gd_span_4"></span>
                                            </div>
                                        </li>
                                        <li>
                                            <div class="fontInner_1 clearfix">
                                                <span class="gd_span_1">永川区邻里饮食店（客满堂）</span>
                                                <span class="gd_span_2"></span>
                                                <span class="gd_span_3"></span>
                                                <span class="gd_span_4"></span>
                                            </div>
                                        </li>
                                        <li>
                                            <div class="fontInner_1 clearfix">
                                                <span class="gd_span_1">永川区欢妹餐馆（美蛙鱼头自助餐）</span>
                                                <span class="gd_span_2"></span>
                                                <span class="gd_span_3"></span>
                                                <span class="gd_span_4"></span>
                                            </div>
                                        </li>
                                        <li>
                                            <div class="fontInner_1 clearfix">
                                                <span class="gd_span_1">德器科技试用设备（江北）</span>
                                                <span class="gd_span_2"></span>
                                                <span class="gd_span_3"></span>
                                                <span class="gd_span_4"></span>
                                            </div>
                                        </li>
                                        <li>
                                            <div class="fontInner_1 clearfix">
                                                <span class="gd_span_1">永川区正铭厨香香私房菜</span>
                                                <span class="gd_span_2"></span>
                                                <span class="gd_span_3"></span>
                                                <span class="gd_span_4"></span>
                                            </div>
                                        </li>
                                        <li>
                                            <div class="fontInner_1 clearfix">
                                                <span class="gd_span_1">永川区柯师傅餐馆</span>
                                                <span class="gd_span_2"></span>
                                                <span class="gd_span_3"></span>
                                                <span class="gd_span_4"></span>
                                            </div>
                                        </li>
                                        <li>
                                            <div class="fontInner_1 clearfix">
                                                <span class="gd_span_1">永川区世乐饮食店</span>
                                                <span class="gd_span_2"></span>
                                                <span class="gd_span_3"></span>
                                                <span class="gd_span_4"></span>
                                            </div>
                                        </li>
                                        <li>
                                            <div class="fontInner_1 clearfix">
                                                <span class="gd_span_1">永川区藕王餐馆（藕王养生汤）</span>
                                                <span class="gd_span_2"></span>
                                                <span class="gd_span_3"></span>
                                                <span class="gd_span_4"></span>
                                            </div>
                                        </li>
                                        <li>
                                            <div class="fontInner_1 clearfix">
                                                <span class="gd_span_1">永川区欧哥餐馆</span>
                                                <span class="gd_span_2"></span>
                                                <span class="gd_span_3"></span>
                                                <span class="gd_span_4"></span>
                                            </div>
                                        </li>
                                        <li>
                                            <div class="fontInner_1 clearfix">
                                                <span class="gd_span_1">永川区容兴饮食店</span>
                                                <span class="gd_span_2"></span>
                                                <span class="gd_span_3"></span>
                                                <span class="gd_span_4"></span>
                                            </div>
                                        </li>
                                        <li>
                                            <div class="fontInner_1 clearfix">
                                                <span class="gd_span_1">永川区锐洁餐馆（黔江鸡杂）</span>
                                                <span class="gd_span_2"></span>
                                                <span class="gd_span_3"></span>
                                                <span class="gd_span_4"></span>
                                            </div>
                                        </li>
                                        <li>
                                            <div class="fontInner_1 clearfix">
                                                <span class="gd_span_1">永川区王治兰餐馆</span>
                                                <span class="gd_span_2"></span>
                                                <span class="gd_span_3"></span>
                                                <span class="gd_span_4"></span>
                                            </div>
                                        </li>
                                        <li>
                                            <div class="fontInner_1 clearfix">
                                                <span class="gd_span_1">永川区飞君花餐馆（老成都小郡肝串串）</span>
                                                <span class="gd_span_2"></span>
                                                <span class="gd_span_3"></span>
                                                <span class="gd_span_4"></span>
                                            </div>
                                        </li>
                                        <li>
                                            <div class="fontInner_1 clearfix">
                                                <span class="gd_span_1">永川区韵秋餐饮店2号</span>
                                                <span class="gd_span_2"></span>
                                                <span class="gd_span_3"></span>
                                                <span class="gd_span_4"></span>
                                            </div>
                                        </li>
                                        <li>
                                            <div class="fontInner_1 clearfix">
                                                <span class="gd_span_1">永川区邻里饮食店（客满堂）2号</span>
                                                <span class="gd_span_2"></span>
                                                <span class="gd_span_3"></span>
                                                <span class="gd_span_4"></span>
                                            </div>
                                        </li>
                                        <li>
                                            <div class="fontInner_1 clearfix">
                                                <span class="gd_span_1">永川区柒陆餐馆 （农家大院）2号</span>
                                                <span class="gd_span_2"></span>
                                                <span class="gd_span_3"></span>
                                                <span class="gd_span_4"></span>
                                            </div>
                                        </li>
                                        <li>
                                            <div class="fontInner_1 clearfix">
                                                <span class="gd_span_1">江北净化器配套</span>
                                                <span class="gd_span_2"></span>
                                                <span class="gd_span_3"></span>
                                                <span class="gd_span_4"></span>
                                            </div>
                                        </li>

                                    
                                    
                                </ul>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!--左三-->
            <div style="margin-bottom: .15rem;">
                <img src="./8.png" />
                <h3 style="color: white;font-size: 20px;display: inline-block;margin-left: 15px;">报警信息</h3>
            </div>
            <div class="left-bottom rightTop" style="position: relative;">
                <img src="./1.png" style="width: 42px;height: 41px;top: 0;left: 0;position: absolute;" />
                <img src="./2.png" style="width: 42px;height: 41px;top: 0;right: 0;position: absolute;" />
                <img src="./4.png" style="width: 172px;height: 43px;bottom: 0;left: 0;position: absolute;" />
                <img src="./3.png" style="width: 42px;height: 41px;bottom: 0;right: 0;position: absolute;" />


                <div class="chat">
                    <div class="left-content">
                        <div id="echart3" class="allnav"></div>
                    </div>
                    <div class="right-content">
                        <div class="right-left-content">


                            <div class="top">
                                <img src="./9.png" style="width: 30px;height: 30px;margin-left: calc(50% - 15px);margin-top: 15px;" onclick="leftBottomClick(this,1);" />
                                <span>数据报警</span>
                                <span style="opacity: 1;" onclick="leftBottomFontClick(this,0,'top');">已处理 1 次</span>
                                <span style="margin-bottom: 15px;color: #6666cc;opacity: 1;" onclick="leftBottomFontClick(this,1,'top');">未处理 29 次<span>
</div>
                            <div class="bottom">
                                <img src="./11.png" style="width: 30px;height: 30px;margin-left: calc(50% - 15px);margin-top: 15px;" onclick="leftBottomClick(this,0);" />
                                <span>设备报警</span>
                                
                            </div>


                            

                        </div>
                        <div class="right-right-content">
                            <div class="gun">
                                <span style="width: 33.33%;">设备名</span>
                                <span style="width: 33.33%;">报警原因</span>
                                <span style="width: 33.33%;" id="BJTab">报警时间</span>
                            </div>

                            <div id="FontScroll" class="myscroll">
                                <ul id="left-bottom-ul">



                                        <li>
                                            <div class="fontInner_2 clearfix">
                                                <span class="gd_span_1">永川区柴米油盐餐馆</span>
                                                <span class="gd_span_2">油烟浓度超标</span>
                                                <span class="gd_span_3">2021-03-08</span>
                                            </div>
                                        </li>

                                    

                                </ul>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!--中间一栏-->
        <div class="center-cen fl">
            <div class="cen-top rightTop" style="position: relative;">
                <img src="./1.png" style="width: 42px;height: 41px;top: 0;left: 0;position: absolute;" />
                <img src="./2.png" style="width: 42px;height: 41px;top: 0;right: 0;position: absolute;" />
                <img src="./13.png" style="width: 42px;height: 41px;bottom: 0;left: 0;position: absolute;" />
                <img src="./3.png" style="width: 42px;height: 41px;bottom: 0;right: 0;position: absolute;" />

                <div class="top-bottom">
                    <img src="./LQM5.png" style="width: 550px;height: 600px;top: 200;left: 200;position: absolute;">
                </div>
            </div>
        </div>

        <!--右边三栏-->
        <div class="center-right fr">
            <!--右一-->
            <div style="margin-bottom: .15rem;">
                <img src="./8.png" />
                <h3 style="color: white;font-size: 20px;display: inline-block;margin-left: 15px;">历史趋势</h3>
            </div>
            <div class="right-top rightTop" style="position: relative;">
                <img src="./1.png" style="width: 42px;height: 41px;top: 0;left: 0;position: absolute;" />
                <img src="./2.png" style="width: 42px;height: 41px;top: 0;right: 0;position: absolute;" />
                <img src="./4.png" style="width: 172px;height: 43px;bottom: 0;left: 0;position: absolute;pointer-events:none;" />
                <img src="./3.png" style="width: 42px;height: 41px;bottom: 0;right: 0;position: absolute;" />

                <div class="chat">
                    <div class="title">
                        <span>年总量:<em id="BlowOFFSUM_Year">******</em></span>
                        <span>月总量:<em id="BlowOFFSUM_Month">******</em></span>
                        <span>日总量:<em id="BlowOFFSUM_Day">******</em></span>
                    </div>

                    <div class="content">
                        <div class="left-content">
                            <ul style="height: 100%;width: 100%;">
                                <li style="height: .5rem;width: 100%;line-height:.5rem;text-align: center;background-color: #6699ff;color: #6666cc;font-size: 10px;" onclick="rightTopClick(this,0);">油烟</li>
                                <li style="height: .5rem;width: 100%;line-height:.5rem;text-align: center;background-color: #160544;color: #6666cc;font-size: 10px;margin-top: 2px;" onclick="rightTopClick(this,1);">NMHC</li>
                                <li style="height: .5rem;width: 100%;line-height:.5rem;text-align: center;background-color: #160544;color: #6666cc;font-size: 10px;margin-top: 2px;" onclick="rightTopClick(this,2);">颗粒物</li>
                                <li style="height: .5rem;width: 100%;line-height:.5rem;text-align: center;background-color: #160544;color: #6666cc;font-size: 10px;margin-top: 2px;" onclick="rightTopClick(this,3);">维护工作量</li>
                                <li style="height: .5rem;width: 100%;line-height:.5rem;text-align: center;background-color: #160544;color: #6666cc;font-size: 10px;margin-top: 2px;" onclick="rightTopClick(this,4);">维护及时率</li>
                            </ul>
                        </div>
                        <div class="right-content">
                            <div id="echart4" class="allnav"></div>
                        </div>
                    </div>
                </div>
            </div>

            <!--右二-->
            <div style="margin-bottom: .15rem;">
                <img src="./8.png" />
                <h3 style="color: white;font-size: 20px;display: inline-block;margin-left: 15px;">设备维护</h3>
            </div>
            <div class="right-cen" style="position: relative;">
                <img src="./1.png" style="width: 42px;height: 41px;top: 0;left: 0;position: absolute;" />
                <img src="./2.png" style="width: 42px;height: 41px;top: 0;right: 0;position: absolute;" />
                <img src="./4.png" style="width: 172px;height: 43px;bottom: 0;left: 0;position: absolute;" />
                <img src="./3.png" style="width: 42px;height: 41px;bottom: 0;right: 0;position: absolute;" />

                <div class="chat">
                    <div class="title">
                        <span>已维保总数:<em>1</em></span>
                        <span>仪器总数:<em>30</em></span>
                        <span>设备总数:<em>30</em></span>
                        <span>管路总数:<em>无</em></span>
                    </div>
                    <div class="content">
                        <div class="left-content">
                            <div class="top" onclick="rightCenClick(this,0);">
                                <img src="./5.png" style="width: 30px;height: 30px;margin-top: calc(25% + 15px);" />
                                <p>一级接入</p>
                            </div>
                            <div class="bottom" onclick="rightCenClick(this,1);">
                                <img src="./6.png" style="width: 30px;height: 30px;margin-top: calc(25% + 15px);" />
                                <p style="color: #6666cc;">二级接入</p>
                            </div>
                        </div>
                        <div class="right-content">
                            <div class="gun">
                                <span style="width: 50%;">点位名</span>
                                <span style="width: 25%;">仪器名</span>
                                <span style="width: 25%;">清洗时间</span>
                                
                            </div>

                            <div id="FontScroll" class="myscroll">
                                <ul id="right-cen-ul">
                                        <li onclick="tableCenClick(1122334455);">
                                            <div class="fontInner_1 clearfix">
                                                <span class="gd_span_1" style="width:50%">桂花烤全羊</span>
                                                <span class="gd_span_2" style="width:25%">油烟设备</span>
                                                <span class="gd_span_3" style="width:20%">2021-03-19</span>
                                                
                                            </div>
                                        </li>


                                    

                                </ul>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!--右三-->
            <div style="margin-bottom: .15rem;">
                <img src="./8.png" />
                <h3 style="color: white;font-size: 20px;display: inline-block;margin-left: 15px;">工单信息</h3>
            </div>
            <div class="right-bottom rightTop" style="position: relative;">
                <img src="./1.png" style="width: 42px;height: 41px;top: 0;left: 0;position: absolute;" />
                <img src="./2.png" style="width: 42px;height: 41px;top: 0;right: 0;position: absolute;" />
                <img src="./4.png" style="width: 172px;height: 43px;bottom: 0;left: 0;position: absolute;" />
                <img src="./3.png" style="width: 42px;height: 41px;bottom: 0;right: 0;position: absolute;" />


                <div class="chat">
                    <div class="title">
                        <span>工单总量:<em>******</em></span>
                        <span>已处理:<em>******</em></span>
                        <span>未处理:<em>******</em></span>
                    </div>
                    <div class="content">
                        <div class="left-content">
                            <div class="top">
                                <div id="echart5" class="allnav"></div>
                            </div>
                            <div class="bottom">
                                <div id="echart6" class="allnav"></div>
                            </div>
                        </div>
                        <div class="right-content">
                            <div class="gun">
                                <span style="width: 20%;">人员名</span>
                                <span style="width: 20%;">总数</span>
                                <span style="width: 20%;">已处理</span>
                                <span style="width: 20%;">及时率</span>
                                <span style="width: 20%;">完成率</span>
                            </div>

                            <div id="FontScroll" class="myscroll">
                                <ul>
                                    <li onclick="tableBottomClick(this);">
                                        <div class="fontInner clearfix">
                                            <span class="gd_span_1">刘抠门</span>
                                            <span class="gd_span_2">900</span>
                                            <span class="gd_span_3">100</span>
                                            <span class="gd_span_4">20%</span>
                                            <span class="gd_span_5">50%</span>
                                        </div>
                                    </li>
                                    <li onclick="tableBottomClick(this);">
                                        <div class="fontInner clearfix">
                                            <span class="gd_span_1">刘抠门</span>
                                            <span class="gd_span_2">900</span>
                                            <span class="gd_span_3">100</span>
                                            <span class="gd_span_4">20%</span>
                                            <span class="gd_span_5">50%</span>
                                        </div>
                                    </li>
                                    <li onclick="tableBottomClick(this);">
                                        <div class="fontInner clearfix">
                                            <span class="gd_span_1">刘抠门</span>
                                            <span class="gd_span_2">900</span>
                                            <span class="gd_span_3">100</span>
                                            <span class="gd_span_4">20%</span>
                                            <span class="gd_span_5">50%</span>
                                        </div>
                                    </li>
                                    <li onclick="tableBottomClick(this);">
                                        <div class="fontInner clearfix">
                                            <span class="gd_span_1">刘抠门</span>
                                            <span class="gd_span_2">900</span>
                                            <span class="gd_span_3">100</span>
                                            <span class="gd_span_4">20%</span>
                                            <span class="gd_span_5">50%</span>
                                        </div>
                                    </li>
                                    <li onclick="tableBottomClick(this);">
                                        <div class="fontInner clearfix">
                                            <span class="gd_span_1">刘抠门</span>
                                            <span class="gd_span_2">900</span>
                                            <span class="gd_span_3">100</span>
                                            <span class="gd_span_4">20%</span>
                                            <span class="gd_span_5">50%</span>
                                        </div>
                                    </li>
                                    <li onclick="tableBottomClick(this);">
                                        <div class="fontInner clearfix">
                                            <span class="gd_span_1">刘抠门</span>
                                            <span class="gd_span_2">900</span>
                                            <span class="gd_span_3">100</span>
                                            <span class="gd_span_4">20%</span>
                                            <span class="gd_span_5">50%</span>
                                        </div>
                                    </li>
                                    <li onclick="tableBottomClick(this);">
                                        <div class="fontInner clearfix">
                                            <span class="gd_span_1">刘抠门</span>
                                            <span class="gd_span_2">900</span>
                                            <span class="gd_span_3">100</span>
                                            <span class="gd_span_4">20%</span>
                                            <span class="gd_span_5">50%</span>
                                        </div>
                                    </li>
                                    <li onclick="tableBottomClick(this);">
                                        <div class="fontInner clearfix">
                                            <span class="gd_span_1">刘抠门</span>
                                            <span class="gd_span_2">900</span>
                                            <span class="gd_span_3">100</span>
                                            <span class="gd_span_4">20%</span>
                                            <span class="gd_span_5">50%</span>
                                        </div>
                                    </li>
                                    <li onclick="tableBottomClick(this);">
                                        <div class="fontInner clearfix">
                                            <span class="gd_span_1">刘抠门</span>
                                            <span class="gd_span_2">900</span>
                                            <span class="gd_span_3">100</span>
                                            <span class="gd_span_4">20%</span>
                                            <span class="gd_span_5">50%</span>
                                        </div>
                                    </li>
                                    <li onclick="tableBottomClick(this);">
                                        <div class="fontInner clearfix">
                                            <span class="gd_span_1">刘抠门</span>
                                            <span class="gd_span_2">900</span>
                                            <span class="gd_span_3">100</span>
                                            <span class="gd_span_4">20%</span>
                                            <span class="gd_span_5">50%</span>
                                        </div>
                                    </li>
                                </ul>
                            </div>

                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>


<!--弹窗一-->
<div class="layer_1" id="layer_1">
    <div class="top">
        <div class="top_1">
            <p style="display: inline-block;color: #6699ff;font-size: 16px;">点位名称:<em style="color: #6699ff;font-size: 16px;">重庆文理学院</em></p>
            <p style="display: inline-block;color: #6699ff;font-size: 16px;">地址:<em style="color: #6699ff;font-size: 16px;">永川区南路一号xx洞</em></p>
        </div>
        <div class="top_2">
            <p style="display: inline-block;color: #6699ff;font-size: 16px;">点位名称:<em style="color: #6699ff;font-size: 16px;">重庆文理学院</em></p>
            <p style="display: inline-block;color: #6699ff;font-size: 16px;">地址:<em style="color: #6699ff;font-size: 16px;">永川区南路一号xx洞</em></p>
        </div>

        <div style="width: 100%;height: 150px;margin-top: 50px;padding-bottom: 50px;padding-bottom: 50px;">
            <table style="border-top:5px solid #150440 !important;border:1px solid #150440;width: 100%;height: 100%;">
                <th align="center">处理人</th>
                <th align="center">时间</th>
                <th align="center">结果</th>
                <th align="center">备注</th>
                <th align="center">结果图片</th>
                <tr>
                    <td>刘抠门</td>
                    <td>2020-01-01 00:00</td>
                    <td>完成</td>
                    <td>正常完成</td>
                    <td style="color: #6699ff;font-size: 16px;">查看</td>
                </tr>
                <tr>
                    <td>刘抠门</td>
                    <td>2020-01-01 00:00</td>
                    <td>完成</td>
                    <td>正常完成</td>
                    <td style="color: #6699ff;font-size: 16px;">查看</td>
                </tr>
            </table>
        </div>
    </div>
    <span onclick="closeLayer1();">×</span>
    <div style="width: 100%;position:absolute;bottom:5px;text-align: center;" onclick="closeLayer1();">
        <img src="./btn.png" style="width: 139px;height:52px;" />
    </div>
</div>

<!--弹窗二-->
<div class="layer_2" id="layer_2">
    <div class="top">
        <div style=" color: #6699ff;font-size: 16px;">点位名称:<em style="color: #6699ff;font-size: 16px;">重庆文理学院</em></div>
        <div style=" color: #6699ff;font-size: 16px;margin-left: 60px;">地址:<em style="color: #6699ff;font-size: 16px;">永川区南路一号xx洞</em></div>
    </div>

    <div style="width: 100%;height: 150px;margin-top: 50px;padding-bottom: 50px;padding-bottom: 50px;">
        <table style="border-top:5px solid #150440 !important;border:1px solid #150440;width: 100%;height: 100%;">
            <th align="center">点位名</th>
            <th align="center">报警时间</th>
            <th align="center">接单时间</th>
            <th align="center">完成时间</th>
            <th align="center">及时率</th>
            <th align="center">处理结果描述</th>
            <tr>
                <td>刘抠门</td>
                <td>2020-01-01 00:00</td>
                <td>完成</td>
                <td>正常完成</td>
                <td>完成</td>
                <td>正常完成</td>
            </tr>
            <tr>
                <td>刘抠门</td>
                <td>2020-01-01 00:00</td>
                <td>完成</td>
                <td>正常完成</td>
                <td>完成</td>
                <td>正常完成</td>
            </tr>
        </table>
    </div>
    <span onclick="closeLayer2();">×</span>
    <div style="width: 100%;position:absolute;bottom:5px;text-align: center;" onclick="closeLayer2();">
        <img src="./btn.png" style="width: 139px;height:52px;" />
    </div>
</div>

<!--弹窗三-->
<div class="layer_3" id="layer_3">
    <span onclick="closeLayer3();">×</span>
    <div class="title">
        <div style="float: left;overflow:hidden;text-overflow:clip;white-space:nowrap;width:50%;">点位名:<em id="layer_3_Name">重庆市城市管理学院</em></div>
        <div style="float: left;overflow:hidden;text-overflow:clip;white-space:nowrap;width:50%;">地址:<em id="layer_3_Address">重庆市永川区****</em></div>
    </div>
    <div class="content_1">
        <div style="display: flex;flex-direction: row;justify-content: space-around;">
            <p>点位负责人:<em id="layer_3_FZR">*****</em></p>
            <p>下次维护时间:<em id="layer_3_WH_1">*****</em></p>
            <p>风机累计工作时间:<em id="layer_3_FJLJSJ">*****</em></p>
        </div>
        <div style="display: flex;flex-direction: row;justify-content: space-around;margin-top: 15px;">
            <p>联系电话:<em id="layer_3_Tel">*****</em></p>
            <p></p>
            <p>净化器累计工作时间:<em id="layer_3_JHQLJSJ">*****</em></p>
        </div>
        
        <div style="display: flex;flex-direction: row;justify-content: space-around;margin-top:10px;">
            <p>面积:<em id="layer_3_MJ">*****</em><em>㎡</em></p>
            <p>灶台数:<em id="layer_3_ZTS">*****</em><em>台</em></p>
            <p>设计风量:<em id="layer_3_SJFL">*****</em><em>m³/H</em></p>
        </div>
    </div>
    <div class="content_2">
        <div style="height: 154px;line-height: 154px;width: 228px;background-color: #2b1c6e;float: left;margin-right: 7px;">
            <div style="margin-top: calc(50% - 80px);height: 100%;padding-left: 20px;float: left;"><img src="./YOUYAN.png" style="width: 87px;height: 87px;" /></div>
            <div style="float: left;height: 100%;margin-left: 15px;">
                <h3 style="height: 80px;line-height: 80px;">油烟</h3>
                <h3 style="height: 70px;line-height: 70px;font-size: 30px;color: #ffff00;" id="layer_3_Y1">2.7</h3>
            </div>
        </div>
        <div style="height: 154px;line-height: 154px;width: 228px;background-color: #2b1c6e;float: left;margin-right: 7px;">
            <div style="margin-top: calc(50% - 80px);height: 100%;padding-left: 20px;float: left;"><img src="./KELIWU.png" style="width: 87px;height: 87px;" /></div>
            <div style="float: left;height: 100%;margin-left: 15px;">
                <h3 style="height: 80px;line-height: 80px;">颗粒物</h3>
                <h3 style="height: 70px;line-height: 70px;font-size: 30px;color: #ffff00;"  id="layer_3_V1">2.7</h3>
            </div>
        </div>
        <div style="height: 154px;line-height: 154px;width: 228px;background-color: #2b1c6e;float: left;">
            <div style="margin-top: calc(50% - 80px);height: 100%;padding-left: 20px;float: left;"><img src="./FEIJIAWAN.png" style="width: 87px;height: 87px;" /></div>
            <div style="float: left;height: 100%;margin-left: 15px;">
                <h3 style="height: 80px;line-height: 80px;">非甲烷总经</h3>
                <h3 style="height: 70px;line-height: 70px;font-size: 30px;color: #ffff00;" id="layer_3_K1">2.7</h3>
            </div>
        </div>
    </div>
    <div class="content_3">
        <div id="echart7" class="allnav" style="width: 699px;height: 222px;"></div>
    </div>
    <div class="content_4">
        <div id="echart8" class="allnav" style="width: 699px;height: 222px;"></div>
    </div>
</div>

<!--弹窗四-->
<div class="layer_4" id="layer_4">
    <div class="top">
        <div class="top_1">
            <p style="display: inline-block;color: #6699ff;font-size: 16px;">点位名称:<em style="color: #6699ff;font-size: 16px;" id="layer_4_DeviceName">重庆文理学院</em></p>
            <p style="display: inline-block;color: #6699ff;font-size: 16px;">设备类型:<em style="color: #6699ff;font-size: 16px;" id="layer_4_DeviceType">永川区南路一号xx洞</em></p>
        </div>
        

        <div style="width: 100%;height: 150px;margin-top: 50px;padding-bottom: 50px;padding-bottom: 50px;">
            <table style="border-top:5px solid #150440 !important;border:1px solid #150440;width: 100%;height: 100%;" id="MaintainTable">
                <th align="center">处理人</th>
                <th align="center">时间</th>
                <th align="center">结果</th>
                <th align="center">备注</th>
                <th align="center">结果图片</th>
                <tr>
                    <td>刘抠门</td>
                    <td>2020-01-01 00:00</td>
                    <td>完成</td>
                    <td>正常完成</td>
                    <td style="color: #6699ff;font-size: 16px;">查看</td>
                </tr>
                <tr>
                    <td>刘抠门</td>
                    <td>2020-01-01 00:00</td>
                    <td>完成</td>
                    <td>正常完成</td>
                    <td style="color: #6699ff;font-size: 16px;">查看</td>
                </tr>
            </table>
        </div>
    </div>
    <span onclick="closeLayer4();">×</span>
    <div style="width: 100%;position:absolute;bottom:5px;text-align: center;" onclick="closeLayer4();">
        <img src="./btn.png" style="width: 139px;height:52px;" />
    </div>
</div>

<!--弹窗五-->
<div class="layer_5" id="layer_5">
    <div class="top">
        <div style=" color: #6699ff;font-size: 16px;">点位名称:<em style="color: #6699ff;font-size: 16px;">重庆文理学院</em></div>
        <div style=" color: #6699ff;font-size: 16px;margin-left: 60px;">地址:<em style="color: #6699ff;font-size: 16px;">永川区南路一号xx洞</em></div>
    </div>

    <div style="width: 100%;height: 150px;margin-top: 50px;padding-bottom: 50px;padding-bottom: 50px;">
        <table style="border-top:5px solid #150440 !important;border:1px solid #150440;width: 100%;height: 100%;">
            <th align="center">点位名</th>
            <th align="center">报警时间</th>
            <th align="center">接单时间</th>
            <th align="center">完成时间</th>
            <th align="center">及时率</th>
            <th align="center">处理结果描述</th>
            <tr>
                <td>刘抠门</td>
                <td>2020-01-01 00:00</td>
                <td>完成</td>
                <td>正常完成</td>
                <td>完成</td>
                <td>正常完成</td>
            </tr>
            <tr>
                <td>刘抠门</td>
                <td>2020-01-01 00:00</td>
                <td>完成</td>
                <td>正常完成</td>
                <td>完成</td>
                <td>正常完成</td>
            </tr>
        </table>
    </div>
    <span onclick="closeLayer5();">×</span>
    <div style="width: 100%;position:absolute;bottom:5px;text-align: center;" onclick="closeLayer5();">
        <img src="./btn.png" style="width: 139px;height:52px;" />
    </div>
</div>


<script type="text/javascript">

    //先把设备数据加进来
    var DeviceListJson =JSON.parse('[{"DeviceId":1,"MN":"1122334455","Name":"桂花烤全羊","Address":"重庆江津区双庆路238号","ChannelNum":1,"lon":106.278685,"lat":29.424221,"Y1":0.42,"V1":4.75,"K1":2.69,"Y2":0.0,"V2":0.0,"K2":0.0,"LastTime":"2020-02-09 23:55:22","amp1":null,"amp2":null,"ZTS":"1","MJ":"120","SJFL":36000.0,"XQY":"永川","Tel":"123123123","FZR":"测试"},{"DeviceId":2,"MN":"123456789012345678901234","Name":"双福2通道","Address":"英利五金机电城","ChannelNum":2,"lon":106.288685,"lat":29.434221,"Y1":0.54,"V1":2.08,"K1":1.01,"Y2":0.0,"V2":0.0,"K2":0.0,"LastTime":"2021-01-28 12:02:19","amp1":0.5,"amp2":0.5,"ZTS":null,"MJ":null,"SJFL":36000.0,"XQY":null,"Tel":null,"FZR":null},{"DeviceId":9,"MN":"20201102","Name":"永川区杨庆勇餐馆","Address":"重庆市永川区胜利路148号","ChannelNum":1,"lon":105.896108,"lat":29.35939,"Y1":1.41,"V1":5.42,"K1":2.63,"Y2":0.0,"V2":0.0,"K2":0.0,"LastTime":"2021-03-15 11:50:37","amp1":4.4,"amp2":0.5,"ZTS":null,"MJ":null,"SJFL":36000.0,"XQY":null,"Tel":null,"FZR":null},{"DeviceId":10,"MN":"20201109","Name":"永川区刘二娃餐馆","Address":"重庆市永川区渝西大道西段34号","ChannelNum":1,"lon":105.896158,"lat":29.357016,"Y1":0.41,"V1":1.6,"K1":0.8,"Y2":0.0,"V2":0.0,"K2":0.0,"LastTime":"2021-03-15 13:17:31","amp1":1.3,"amp2":0.5,"ZTS":null,"MJ":null,"SJFL":36000.0,"XQY":null,"Tel":null,"FZR":null},{"DeviceId":11,"MN":"20201103","Name":"永川区韵秋餐饮店","Address":"庆市永川区玉屏北路186号附2号","ChannelNum":1,"lon":105.906981,"lat":29.365545,"Y1":0.54,"V1":2.09,"K1":0.87,"Y2":0.0,"V2":0.0,"K2":0.0,"LastTime":"2021-03-15 19:54:04","amp1":8.6,"amp2":1.0,"ZTS":null,"MJ":null,"SJFL":36000.0,"XQY":null,"Tel":null,"FZR":null},{"DeviceId":12,"MN":"20201104","Name":"永川区柴米油盐餐馆","Address":"重庆市永川区萱花西路 41、43号","ChannelNum":1,"lon":105.888993,"lat":29.37245,"Y1":6.41,"V1":24.5,"K1":16.13,"Y2":0.0,"V2":0.0,"K2":0.0,"LastTime":"2021-03-14 19:01:08","amp1":0.5,"amp2":0.5,"ZTS":"5","MJ":"500","SJFL":36000.0,"XQY":"永川路","Tel":"13922222222","FZR":"负责人名"},{"DeviceId":13,"MN":"20201110","Name":"永川区柒陆餐馆 （农家大院）","Address":"重庆市永川区玉屏北路 361号附1号","ChannelNum":1,"lon":105.909818,"lat":29.366736,"Y1":0.56,"V1":2.15,"K1":1.08,"Y2":0.0,"V2":0.0,"K2":0.0,"LastTime":"2021-03-15 20:37:39","amp1":9.0,"amp2":1.8,"ZTS":null,"MJ":null,"SJFL":36000.0,"XQY":null,"Tel":null,"FZR":null},{"DeviceId":14,"MN":"20201108","Name":"永川区山村老灶餐饮店","Address":"重庆市永川区箕山路17号","ChannelNum":1,"lon":105.900291,"lat":29.364293,"Y1":0.53,"V1":2.06,"K1":1.08,"Y2":0.0,"V2":0.0,"K2":0.0,"LastTime":"2021-03-15 19:52:58","amp1":1.1,"amp2":0.5,"ZTS":null,"MJ":null,"SJFL":36000.0,"XQY":null,"Tel":null,"FZR":null},{"DeviceId":15,"MN":"20201106","Name":"永川区荣昇坊餐饮有限责任公司","Address":"重庆市永川区箕山路103号附17号门面","ChannelNum":1,"lon":105.901418,"lat":29.365809,"Y1":0.12,"V1":0.48,"K1":0.24,"Y2":0.0,"V2":0.0,"K2":0.0,"LastTime":"2021-03-15 19:51:40","amp1":8.1,"amp2":2.9,"ZTS":null,"MJ":null,"SJFL":36000.0,"XQY":null,"Tel":null,"FZR":null},{"DeviceId":16,"MN":"20201105","Name":"永川区巧巧餐馆","Address":"重庆市永川区萱花西路2、4、6、8、10号","ChannelNum":1,"lon":105.898317,"lat":29.364905,"Y1":0.37,"V1":1.44,"K1":0.7,"Y2":0.0,"V2":0.0,"K2":0.0,"LastTime":"2021-03-15 21:25:58","amp1":9.4,"amp2":1.1,"ZTS":null,"MJ":null,"SJFL":36000.0,"XQY":null,"Tel":null,"FZR":null},{"DeviceId":17,"MN":"20201111","Name":"永川区余朝勇餐馆（余记餐馆）","Address":"重庆市永川区箕山路25号27号","ChannelNum":1,"lon":105.900158,"lat":29.364366,"Y1":1.47,"V1":5.62,"K1":2.24,"Y2":0.0,"V2":0.0,"K2":0.0,"LastTime":"2021-03-15 13:31:17","amp1":1.3,"amp2":0.5,"ZTS":null,"MJ":null,"SJFL":36000.0,"XQY":null,"Tel":null,"FZR":null},{"DeviceId":18,"MN":"20201107","Name":"永川区邻里饮食店（客满堂）","Address":"重庆市永川区玉屏北路174号176号 ","ChannelNum":1,"lon":105.907176,"lat":29.366433,"Y1":0.14,"V1":0.57,"K1":0.28,"Y2":0.0,"V2":0.0,"K2":0.0,"LastTime":"2021-03-15 18:21:20","amp1":8.0,"amp2":0.5,"ZTS":null,"MJ":null,"SJFL":36000.0,"XQY":null,"Tel":null,"FZR":null},{"DeviceId":19,"MN":"20201112","Name":"永川区欢妹餐馆（美蛙鱼头自助餐）","Address":"重庆市永川区中山大道西段272 274","ChannelNum":1,"lon":105.900017,"lat":29.357322,"Y1":0.3,"V1":1.19,"K1":0.56,"Y2":0.0,"V2":0.0,"K2":0.0,"LastTime":"2021-03-10 07:09:09","amp1":0.5,"amp2":0.5,"ZTS":null,"MJ":null,"SJFL":36000.0,"XQY":null,"Tel":null,"FZR":null},{"DeviceId":20,"MN":"20201113","Name":"德器科技试用设备（江北）","Address":"1","ChannelNum":1,"lon":1.0,"lat":1.0,"Y1":0.92,"V1":3.54,"K1":1.26,"Y2":0.0,"V2":0.0,"K2":0.0,"LastTime":"2021-01-28 15:30:26","amp1":0.5,"amp2":0.5,"ZTS":null,"MJ":null,"SJFL":36000.0,"XQY":null,"Tel":null,"FZR":null},{"DeviceId":21,"MN":"20201114","Name":"永川区正铭厨香香私房菜","Address":"重庆市永川区胜利南路101号","ChannelNum":1,"lon":105.893845,"lat":29.357778,"Y1":1.03,"V1":3.97,"K1":1.85,"Y2":0.0,"V2":0.0,"K2":0.0,"LastTime":"2021-03-15 21:01:22","amp1":4.1,"amp2":0.5,"ZTS":null,"MJ":null,"SJFL":36000.0,"XQY":null,"Tel":null,"FZR":null},{"DeviceId":22,"MN":"20201115","Name":"永川区柯师傅餐馆","Address":"重庆市永川区胜利路街道萱花路112号附158号159号","ChannelNum":1,"lon":105.898918,"lat":29.360584,"Y1":4.91,"V1":18.78,"K1":8.6,"Y2":0.0,"V2":0.0,"K2":0.0,"LastTime":"2021-03-15 13:04:04","amp1":0.5,"amp2":0.5,"ZTS":null,"MJ":null,"SJFL":36000.0,"XQY":null,"Tel":null,"FZR":null},{"DeviceId":24,"MN":"20201117","Name":"永川区世乐饮食店","Address":"重庆市永川区萱花路587号-589号","ChannelNum":1,"lon":105.897602,"lat":29.367684,"Y1":0.51,"V1":1.97,"K1":0.9,"Y2":0.0,"V2":0.0,"K2":0.0,"LastTime":"2021-03-15 21:42:29","amp1":7.2,"amp2":1.6,"ZTS":null,"MJ":null,"SJFL":36000.0,"XQY":null,"Tel":null,"FZR":null},{"DeviceId":25,"MN":"20201118","Name":"永川区藕王餐馆（藕王养生汤）","Address":"重庆市永川区萱花路86号11-15","ChannelNum":1,"lon":105.897723,"lat":29.359401,"Y1":0.83,"V1":3.19,"K1":1.63,"Y2":0.0,"V2":0.0,"K2":0.0,"LastTime":"2021-01-05 15:49:41","amp1":6.0,"amp2":0.5,"ZTS":null,"MJ":null,"SJFL":36000.0,"XQY":null,"Tel":null,"FZR":null},{"DeviceId":26,"MN":"20201119","Name":"永川区欧哥餐馆","Address":"重庆市永川区胜利路80号","ChannelNum":1,"lon":105.898973,"lat":29.359559,"Y1":0.45,"V1":1.77,"K1":0.97,"Y2":0.0,"V2":0.0,"K2":0.0,"LastTime":"2021-03-15 21:08:11","amp1":8.6,"amp2":5.0,"ZTS":null,"MJ":null,"SJFL":36000.0,"XQY":null,"Tel":null,"FZR":null},{"DeviceId":27,"MN":"20201120","Name":"永川区容兴饮食店","Address":"重庆市永川区渝西大道西段479号","ChannelNum":1,"lon":105.888124,"lat":29.360293,"Y1":0.67,"V1":2.58,"K1":1.3,"Y2":0.0,"V2":0.0,"K2":0.0,"LastTime":"2021-03-15 20:45:07","amp1":3.7,"amp2":0.5,"ZTS":null,"MJ":null,"SJFL":36000.0,"XQY":null,"Tel":null,"FZR":null},{"DeviceId":28,"MN":"20201121","Name":"永川区锐洁餐馆（黔江鸡杂）","Address":"重庆市永川区萱花路595号","ChannelNum":1,"lon":105.897383,"lat":29.366217,"Y1":0.73,"V1":2.81,"K1":1.33,"Y2":0.0,"V2":0.0,"K2":0.0,"LastTime":"2021-03-15 23:02:33","amp1":8.7,"amp2":0.8,"ZTS":null,"MJ":null,"SJFL":36000.0,"XQY":null,"Tel":null,"FZR":null},{"DeviceId":29,"MN":"20201122","Name":"永川区王治兰餐馆","Address":"重庆市永川区大巷子7号","ChannelNum":1,"lon":105.899333,"lat":29.357395,"Y1":0.34,"V1":1.3,"K1":0.64,"Y2":0.0,"V2":0.0,"K2":0.0,"LastTime":"2021-03-15 20:02:49","amp1":5.3,"amp2":0.5,"ZTS":null,"MJ":null,"SJFL":36000.0,"XQY":null,"Tel":null,"FZR":null},{"DeviceId":30,"MN":"20201123","Name":"永川区飞君花餐馆（老成都小郡肝串串）","Address":"重庆市永川区胜利路87号附2号","ChannelNum":1,"lon":105.899497,"lat":29.360458,"Y1":0.23,"V1":0.89,"K1":0.42,"Y2":0.0,"V2":0.0,"K2":0.0,"LastTime":"2021-03-15 17:26:05","amp1":8.3,"amp2":3.4,"ZTS":null,"MJ":null,"SJFL":36000.0,"XQY":null,"Tel":null,"FZR":null},{"DeviceId":31,"MN":"20201124","Name":"永川区韵秋餐饮店2号","Address":"重庆市永川区玉屏北路186号附2号","ChannelNum":1,"lon":105.906981,"lat":29.365545,"Y1":0.5,"V1":1.93,"K1":0.68,"Y2":0.0,"V2":0.0,"K2":0.0,"LastTime":"2021-03-15 19:52:18","amp1":8.9,"amp2":0.6,"ZTS":null,"MJ":null,"SJFL":36000.0,"XQY":null,"Tel":null,"FZR":null},{"DeviceId":32,"MN":"20201125","Name":"永川区邻里饮食店（客满堂）2号","Address":"重庆市永川区玉屏北路174号176号","ChannelNum":1,"lon":105.907176,"lat":29.366433,"Y1":0.43,"V1":1.68,"K1":0.73,"Y2":0.0,"V2":0.0,"K2":0.0,"LastTime":"2021-03-15 18:20:54","amp1":8.2,"amp2":0.5,"ZTS":null,"MJ":null,"SJFL":36000.0,"XQY":null,"Tel":null,"FZR":null},{"DeviceId":33,"MN":"20201126","Name":"永川区柒陆餐馆 （农家大院）2号","Address":"重庆市永川区玉屏北路 361号附1号","ChannelNum":1,"lon":105.909818,"lat":29.366736,"Y1":0.46,"V1":1.79,"K1":0.86,"Y2":0.0,"V2":0.0,"K2":0.0,"LastTime":"2021-03-15 20:37:15","amp1":8.8,"amp2":2.2,"ZTS":null,"MJ":null,"SJFL":36000.0,"XQY":null,"Tel":null,"FZR":null},{"DeviceId":34,"MN":"20201127","Name":"江北净化器配套","Address":"1","ChannelNum":1,"lon":1.0,"lat":1.0,"Y1":0.16,"V1":0.64,"K1":0.3,"Y2":0.0,"V2":0.0,"K2":0.0,"LastTime":"2021-01-28 15:46:49","amp1":0.5,"amp2":0.5,"ZTS":null,"MJ":null,"SJFL":36000.0,"XQY":null,"Tel":null,"FZR":null}]');    //设备列表
    var ExcessList_Y= JSON.parse('[{"MN":"20201102","Name":"永川区杨庆勇餐馆","Y1":6.19,"percentage":619.0,"DataTime":"2021-03-15T11:32:36"},{"MN":"20201105","Name":"永川区巧巧餐馆","Y1":20.97,"percentage":2097.0,"DataTime":"2021-03-15T14:27:58"},{"MN":"20201111","Name":"永川区余朝勇餐馆（余记餐馆）","Y1":15.27,"percentage":1527.0,"DataTime":"2021-03-15T12:42:17"},{"MN":"20201114","Name":"永川区正铭厨香香私房菜","Y1":7.39,"percentage":739.0,"DataTime":"2021-03-15T18:58:21"},{"MN":"20201115","Name":"永川区柯师傅餐馆","Y1":11.88,"percentage":1188.0,"DataTime":"2021-03-15T13:01:04"},{"MN":"20201117","Name":"永川区世乐饮食店","Y1":1.59,"percentage":159.0,"DataTime":"2021-03-15T12:30:22"},{"MN":"20201121","Name":"永川区锐洁餐馆（黔江鸡杂）","Y1":5.64,"percentage":564.0,"DataTime":"2021-03-15T20:36:30"},{"MN":"20201122","Name":"永川区王治兰餐馆","Y1":9.59,"percentage":959.0,"DataTime":"2021-03-15T12:03:43"},{"MN":"20201123","Name":"永川区飞君花餐馆（老成都小郡肝串串）","Y1":15.19,"percentage":1519.0,"DataTime":"2021-03-15T17:06:05"}]');        //油烟超标设备列表
    var ExcessList_V= JSON.parse('[{"MN":"20201102","Name":"永川区杨庆勇餐馆","V1":23.65,"percentage":236.5,"DataTime":"2021-03-15T11:32:36"},{"MN":"20201105","Name":"永川区巧巧餐馆","V1":80.1,"percentage":801.0,"DataTime":"2021-03-15T14:27:58"},{"MN":"20201111","Name":"永川区余朝勇餐馆（余记餐馆）","V1":58.33,"percentage":583.3,"DataTime":"2021-03-15T12:42:17"},{"MN":"20201114","Name":"永川区正铭厨香香私房菜","V1":28.25,"percentage":282.5,"DataTime":"2021-03-15T18:58:21"},{"MN":"20201115","Name":"永川区柯师傅餐馆","V1":45.39,"percentage":453.9,"DataTime":"2021-03-15T13:01:04"},{"MN":"20201121","Name":"永川区锐洁餐馆（黔江鸡杂）","V1":21.54,"percentage":215.39999999999998,"DataTime":"2021-03-15T20:36:30"},{"MN":"20201122","Name":"永川区王治兰餐馆","V1":36.64,"percentage":366.4,"DataTime":"2021-03-15T12:03:43"},{"MN":"20201123","Name":"永川区飞君花餐馆（老成都小郡肝串串）","V1":58.04,"percentage":580.4,"DataTime":"2021-03-15T17:06:05"}]');        //非甲烷总烃超标设备列表
    var ExcessList_K = JSON.parse('[{"MN":"20201102","Name":"永川区杨庆勇餐馆","K1":10.92,"percentage":109.2,"DataTime":"2021-03-15T11:32:36"},{"MN":"20201105","Name":"永川区巧巧餐馆","K1":38.29,"percentage":382.9,"DataTime":"2021-03-15T14:27:58"},{"MN":"20201111","Name":"永川区余朝勇餐馆（余记餐馆）","K1":26.3,"percentage":263.0,"DataTime":"2021-03-15T12:42:17"},{"MN":"20201114","Name":"永川区正铭厨香香私房菜","K1":12.41,"percentage":124.1,"DataTime":"2021-03-15T18:58:21"},{"MN":"20201115","Name":"永川区柯师傅餐馆","K1":21.5,"percentage":215.0,"DataTime":"2021-03-15T13:01:04"},{"MN":"20201121","Name":"永川区锐洁餐馆（黔江鸡杂）","K1":10.41,"percentage":104.1,"DataTime":"2021-03-15T20:36:30"},{"MN":"20201122","Name":"永川区王治兰餐馆","K1":25.1,"percentage":251.0,"DataTime":"2021-03-15T12:03:43"},{"MN":"20201123","Name":"永川区飞君花餐馆（老成都小郡肝串串）","K1":26.36,"percentage":263.6,"DataTime":"2021-03-15T17:06:05"}]');       //颗粒物超标设备列表
    var ExcessMsgList_OK = JSON.parse('[{"WarningReason":"油烟浓度超标","DeviceName":"永川区柴米油盐餐馆","WarningTime":"2021-03-08","IsHandled":1}]');       //超标已处理列表
    var ExcessMsgList_NO = JSON.parse('[{"WarningReason":"油烟浓度超标","DeviceName":"永川区余朝勇餐馆（余记餐馆）","WarningTime":"2021-03-08","IsHandled":0},{"WarningReason":"油烟浓度超标","DeviceName":"永川区柴米油盐餐馆","WarningTime":"2021-03-09","IsHandled":0},{"WarningReason":"油烟浓度超标","DeviceName":"永川区余朝勇餐馆（余记餐馆）","WarningTime":"2021-03-09","IsHandled":0},{"WarningReason":"油烟浓度超标","DeviceName":"永川区锐洁餐馆（黔江鸡杂）","WarningTime":"2021-03-09","IsHandled":0},{"WarningReason":"油烟浓度超标","DeviceName":"永川区王治兰餐馆","WarningTime":"2021-03-09","IsHandled":0},{"WarningReason":"颗粒物超标","DeviceName":"永川区柴米油盐餐馆","WarningTime":"2021-03-10","IsHandled":0},{"WarningReason":"油烟浓度超标","DeviceName":"永川区王治兰餐馆","WarningTime":"2021-03-10","IsHandled":0},{"WarningReason":"油烟浓度超标","DeviceName":"永川区余朝勇餐馆（余记餐馆）","WarningTime":"2021-03-10","IsHandled":0},{"WarningReason":"油烟浓度超标","DeviceName":"永川区锐洁餐馆（黔江鸡杂）","WarningTime":"2021-03-10","IsHandled":0},{"WarningReason":"油烟浓度超标","DeviceName":"永川区世乐饮食店","WarningTime":"2021-03-10","IsHandled":0},{"WarningReason":"油烟浓度超标","DeviceName":"永川区柴米油盐餐馆","WarningTime":"2021-03-11","IsHandled":0},{"WarningReason":"油烟浓度超标","DeviceName":"永川区锐洁餐馆（黔江鸡杂）","WarningTime":"2021-03-11","IsHandled":0},{"WarningReason":"油烟浓度超标","DeviceName":"永川区世乐饮食店","WarningTime":"2021-03-11","IsHandled":0},{"WarningReason":"油烟浓度超标","DeviceName":"永川区余朝勇餐馆（余记餐馆）","WarningTime":"2021-03-11","IsHandled":0},{"WarningReason":"油烟浓度超标","DeviceName":"永川区柴米油盐餐馆","WarningTime":"2021-03-12","IsHandled":0},{"WarningReason":"油烟浓度超标","DeviceName":"永川区余朝勇餐馆（余记餐馆）","WarningTime":"2021-03-12","IsHandled":0},{"WarningReason":"油烟浓度超标","DeviceName":"永川区王治兰餐馆","WarningTime":"2021-03-12","IsHandled":0},{"WarningReason":"油烟浓度超标","DeviceName":"永川区锐洁餐馆（黔江鸡杂）","WarningTime":"2021-03-12","IsHandled":0},{"WarningReason":"油烟浓度超标","DeviceName":"永川区正铭厨香香私房菜","WarningTime":"2021-03-12","IsHandled":0},{"WarningReason":"油烟浓度超标","DeviceName":"永川区柴米油盐餐馆","WarningTime":"2021-03-13","IsHandled":0},{"WarningReason":"油烟浓度超标","DeviceName":"永川区锐洁餐馆（黔江鸡杂）","WarningTime":"2021-03-13","IsHandled":0},{"WarningReason":"油烟浓度超标","DeviceName":"永川区余朝勇餐馆（余记餐馆）","WarningTime":"2021-03-13","IsHandled":0},{"WarningReason":"油烟浓度超标","DeviceName":"永川区正铭厨香香私房菜","WarningTime":"2021-03-13","IsHandled":0},{"WarningReason":"油烟浓度超标","DeviceName":"永川区锐洁餐馆（黔江鸡杂）","WarningTime":"2021-03-14","IsHandled":0},{"WarningReason":"油烟浓度超标","DeviceName":"永川区杨庆勇餐馆","WarningTime":"2021-03-14","IsHandled":0},{"WarningReason":"油烟浓度超标","DeviceName":"永川区世乐饮食店","WarningTime":"2021-03-14","IsHandled":0},{"WarningReason":"油烟浓度超标","DeviceName":"永川区余朝勇餐馆（余记餐馆）","WarningTime":"2021-03-14","IsHandled":0},{"WarningReason":"油烟浓度超标","DeviceName":"永川区王治兰餐馆","WarningTime":"2021-03-14","IsHandled":0},{"WarningReason":"油烟浓度超标","DeviceName":"永川区余朝勇餐馆（余记餐馆）","WarningTime":"2021-03-15","IsHandled":0}]');       //超标未处理列表

    var OffLineDeviceListJson = JSON.parse('[{"Name":"桂花烤全羊","MN":"1122334455","LastTime":"2020-02-09 23:55:22"},{"Name":"双福2通道","MN":"123456789012345678901234","LastTime":"2021-01-28 12:02:19"},{"Name":"永川区杨庆勇餐馆","MN":"20201102","LastTime":"2021-03-15 11:50:37"},{"Name":"永川区刘二娃餐馆","MN":"20201109","LastTime":"2021-03-15 13:17:31"},{"Name":"永川区韵秋餐饮店","MN":"20201103","LastTime":"2021-03-15 19:54:04"},{"Name":"永川区柴米油盐餐馆","MN":"20201104","LastTime":"2021-03-14 19:01:08"},{"Name":"永川区柒陆餐馆 （农家大院）","MN":"20201110","LastTime":"2021-03-15 20:37:39"},{"Name":"永川区山村老灶餐饮店","MN":"20201108","LastTime":"2021-03-15 19:52:58"},{"Name":"永川区荣昇坊餐饮有限责任公司","MN":"20201106","LastTime":"2021-03-15 19:51:40"},{"Name":"永川区巧巧餐馆","MN":"20201105","LastTime":"2021-03-15 21:25:58"},{"Name":"永川区余朝勇餐馆（余记餐馆）","MN":"20201111","LastTime":"2021-03-15 13:31:17"},{"Name":"永川区邻里饮食店（客满堂）","MN":"20201107","LastTime":"2021-03-15 18:21:20"},{"Name":"永川区欢妹餐馆（美蛙鱼头自助餐）","MN":"20201112","LastTime":"2021-03-10 07:09:09"},{"Name":"德器科技试用设备（江北）","MN":"20201113","LastTime":"2021-01-28 15:30:26"},{"Name":"永川区正铭厨香香私房菜","MN":"20201114","LastTime":"2021-03-15 21:01:22"},{"Name":"永川区柯师傅餐馆","MN":"20201115","LastTime":"2021-03-15 13:04:04"},{"Name":"永川015","MN":"20201116","LastTime":"2020-11-21 13:52:13"},{"Name":"永川区世乐饮食店","MN":"20201117","LastTime":"2021-03-15 21:42:29"},{"Name":"永川区藕王餐馆（藕王养生汤）","MN":"20201118","LastTime":"2021-01-05 15:49:41"},{"Name":"永川区欧哥餐馆","MN":"20201119","LastTime":"2021-03-15 21:08:11"},{"Name":"永川区容兴饮食店","MN":"20201120","LastTime":"2021-03-15 20:45:07"},{"Name":"永川区锐洁餐馆（黔江鸡杂）","MN":"20201121","LastTime":"2021-03-15 23:02:33"},{"Name":"永川区王治兰餐馆","MN":"20201122","LastTime":"2021-03-15 20:02:49"},{"Name":"永川区飞君花餐馆（老成都小郡肝串串）","MN":"20201123","LastTime":"2021-03-15 17:26:05"},{"Name":"永川区韵秋餐饮店2号","MN":"20201124","LastTime":"2021-03-15 19:52:18"},{"Name":"永川区邻里饮食店（客满堂）2号","MN":"20201125","LastTime":"2021-03-15 18:20:54"},{"Name":"永川区柒陆餐馆 （农家大院）2号","MN":"20201126","LastTime":"2021-03-15 20:37:15"},{"Name":"江北净化器配套","MN":"20201127","LastTime":"2021-01-28 15:46:49"}]');        //离线设备列表
    var BlowOffSUMListDataJson = JSON.parse('[{"DateHour":7,"Y":null,"V":null,"K":null},{"DateHour":8,"Y":13.51,"V":52.39,"K":25.04},{"DateHour":9,"Y":104.25,"V":403.48,"K":191.7},{"DateHour":10,"Y":118.2,"V":459.39,"K":219.01},{"DateHour":11,"Y":242.42,"V":932.85,"K":439.61},{"DateHour":12,"Y":294.11,"V":1132.08,"K":546.89},{"DateHour":13,"Y":152.53,"V":586.07,"K":284.59},{"DateHour":14,"Y":66.41,"V":255.35,"K":120.76},{"DateHour":15,"Y":null,"V":null,"K":null},{"DateHour":16,"Y":28.8,"V":111.73,"K":53.84},{"DateHour":17,"Y":168.94,"V":650.67,"K":302.04},{"DateHour":18,"Y":314.84,"V":1211.36,"K":580.22},{"DateHour":19,"Y":300.34,"V":1154.85,"K":545.4},{"DateHour":20,"Y":162.63,"V":624.35,"K":300.07},{"DateHour":21,"Y":77.28,"V":297.09,"K":140.44},{"DateHour":22,"Y":19.75,"V":75.95,"K":38.37},{"DateHour":23,"Y":2.23,"V":8.57,"K":4.12},{"DateHour":0,"Y":null,"V":null,"K":null},{"DateHour":1,"Y":null,"V":null,"K":null},{"DateHour":2,"Y":null,"V":null,"K":null},{"DateHour":3,"Y":null,"V":null,"K":null},{"DateHour":4,"Y":null,"V":null,"K":null},{"DateHour":5,"Y":null,"V":null,"K":null},{"DateHour":6,"Y":null,"V":null,"K":null},{"DateHour":7,"Y":null,"V":null,"K":null}]');        //离线设备列表
    var MaintainListJSON = JSON.parse('[{"MN":"1122334455","DeviceName":"桂花烤全羊","DeviceType":"油烟设备","MaintainTime":"2021-03-19"}]');
    var BlowOffSUM = JSON.parse('{"Year_Y":"25.791","Year_V":"99.513","Year_K":"47.6","Month_Y":"1.384","Month_V":"5.342","Month_K":"2.558","Day_Y":"0.005","Day_V":"0.019","Day_K":"0.009"}');

    var SUMData_Date = [];
    var SUMData_Y = [];
    var SUMData_V = [];
    var SUMData_K = [];

    for (var i = 0; i < BlowOffSUMListDataJson.length; i++) {
        if (BlowOffSUMListDataJson[i].Y == null || BlowOffSUMListDataJson[i].V == null || BlowOffSUMListDataJson[i].K == null) {
            BlowOffSUMListDataJson[i].Y = 0;
            BlowOffSUMListDataJson[i].V = 0;
            BlowOffSUMListDataJson[i].K = 0;
        }

        SUMData_Date.push(BlowOffSUMListDataJson[i].DateHour);
        SUMData_Y.push(BlowOffSUMListDataJson[i].Y);
        SUMData_V.push(BlowOffSUMListDataJson[i].V);
        SUMData_K.push(BlowOffSUMListDataJson[i].K);

    }


    $(function () {
        //初始化 历史趋势 排放总量
        $("#BlowOFFSUM_Year").text(BlowOffSUM.Year_Y + "吨");
        $("#BlowOFFSUM_Month").text(BlowOffSUM.Month_Y + "吨");
        $("#BlowOFFSUM_Day").text(BlowOffSUM.Day_Y + "吨");

        echart0();      //左1  油烟圆圈图
        echart1();      //左1  非甲烷总烃圆圈图
        echart2();      //左1  颗粒物圆圈图
        echart3();
        echart4();      //右1  图形 带切换效果
        echart5();
        echart6();
        echart7();      //弹出层  具体点位 油烟 NMHC 颗粒物 图表
        echart8();      //弹出层  具体点位 风机电流  净化器电流 图表

        //左1  油烟圆圈图
        function echart0() {
            var dom = document.getElementById("echart0");
            var myChart = echarts.init(dom);
            option = null;
            option = {
                tooltip: {
                    trigger: 'item',
                    formatter: '{a} <br/>{b}: {c} ({d}%)'
                },
                legend: {
                    bottom: -5,
                    left: 'center',
                    data: ['油烟合格率'],
                    itemWidth: 0,
                    itemHeight: 0,
                    textStyle: {
                        color: 'white'
                    }
                },
                series: [
                    {
                        name: '访问来源',
                        type: 'pie',
                        radius: ['50%', '70%'],
                        avoidLabelOverlap: false,
                        label: {
                            normal: {
                                show: true,
                                position: 'center',
                                formatter: function () {
                                    return '70%';
                                },
                                textStyle: {
                                    fontSize: 25,
                                    color: 'white'
                                }
                            }
                        },

                        labelLine: {
                            show: false
                        },
                        data: [
                            { value: 9, name: '超标数量', itemStyle: { color: '#dd3f70' } },
                            { value:21, name: '油烟合格率', itemStyle: { color: '#d96e5a' } }
                        ]
                    }
                ]
            };

            if (option && typeof option === "object") {
                myChart.setOption(option, true);
            }
            window.addEventListener("resize", function () {
                myChart.resize();
            });
        }

        //左1  非甲烷总烃圆圈图
        function echart1() {
            var dom = document.getElementById("echart1");
            var myChart = echarts.init(dom);
            option = null;
            option = {
                tooltip: {
                    trigger: 'item',
                    formatter: '{a} <br/>{b}: {c} ({d}%)'
                },
                legend: {
                    bottom: -5,
                    left: 'center',
                    data: ['非甲烷总烃合格率'],
                    itemWidth: 0,
                    itemHeight: 0,
                    textStyle: {
                        color: 'white'
                    }
                },
                series: [
                    {
                        name: '访问来源',
                        type: 'pie',
                        radius: ['50%', '70%'],
                        avoidLabelOverlap: false,
                        label: {
                            normal: {
                                show: true,
                                position: 'center',
                                formatter: function () {
                                    return '73%';
                                },
                                textStyle: {
                                    fontSize: 25,
                                    color: 'white'
                                }
                            }
                        },

                        labelLine: {
                            show: false
                        },
                        data: [
                            { value: 8, name: '超标数量', itemStyle: { color: '#00ffff' } },
                            { value: 22, name: '非甲烷总烃合格率', itemStyle: { color: '#d96e5a' } }
                        ]
                    }
                ]
            };

    if (option && typeof option === "object") {
        myChart.setOption(option, true);
    }
    window.addEventListener("resize", function () {
        myChart.resize();
    });
        }

        //左1  颗粒物圆圈图
        function echart2() {
        var dom = document.getElementById("echart2");
        var myChart = echarts.init(dom);
        option = null;
        option = {
        tooltip: {
            trigger: 'item',
                    formatter: '{a} <br/>{b}: {c} ({d}%)'
                },
                legend: {
            // orient: 'vertical',
            // right: 10,
            // x:'center',
            // y:'bottom',
            bottom: -5,
                    left: 'center',
                    data: ['颗粒物合格率'],
                    itemWidth: 0,
                    itemHeight: 0,
                    textStyle: {
                color: 'white'
                    }
            },
                series: [
                    {
            name: '访问来源',
                        type: 'pie',
                        radius: ['50%', '70%'],
                        avoidLabelOverlap: false,
                        label: {
                normal: {
                    show: true,
                                position: 'center',
                                formatter: function () {
                            return '73%';
                        },
                                textStyle: {
                        fontSize: 25,
                                    color: 'white'
                                }
                    }
                },

                        labelLine: {
                show: false
                        },
                        data: [
                            { value: 8, name: '超标数量', itemStyle: { color: '#ffff00' } },
                            { value: 22, name: '颗粒物合格率', itemStyle: { color: '#d96e5a' } }
                        ]
                    }
                ]
            };

        if (option && typeof option === "object") {
            myChart.setOption(option, true);
        }
        window.addEventListener("resize", function () {
            myChart.resize();
        });
        }

        //左3
        function echart3() {
        var dom = document.getElementById("echart3");
        var myChart = echarts.init(dom);
        option = null;
        option = {
        legend: {
            bottom: 10,
                    left: 'center',
                    data: ['已处理', '未处理'],
                    textStyle: { //图例文字的样式
                color: '#fff',
                        fontSize: 12
                    },
                },
                series: [
                    {
            type: 'pie',
                        radius: '65%',
                        center: ['50%', '50%'],
                        selectedMode: 'single',
                        data: [
                            { value: ExcessMsgList_OK.length, name: '已处理', itemStyle: { color: '#ffff00' } },
                            { value: ExcessMsgList_NO.length, name: '未处理', itemStyle: { color: '#dd3f70' } }
                        ],
                        emphasis: {
                itemStyle: {
                    shadowBlur: 10,
                                shadowOffsetX: 0,
                                shadowColor: 'rgba(0, 0, 0, 0.5)'
                            }
                },
                        label: {
                normal: {
                    show: false
                            }
                }
            }
                ]
            };

        if (option && typeof option === "object") {
            myChart.setOption(option, true);
        }
        window.addEventListener("resize", function () {
            myChart.resize();
        });
        }

        function echart4() {
        var dom = document.getElementById("echart4");
        var myChart = echarts.init(dom);
        option = null;
        //option = {
        //legend: {
        //    textStyle: {
        //        color: '#ffffff'
        //            },
        //            data: ['油烟浓度', 'NMHC', '颗粒物', '维护工作量']
        //        },
        //        xAxis: {
        //    type: 'category',
        //            data: ['人名', '人名', '人名', '人名', '人名', '人名', '人名'],
        //            axisLine: {
        //        show: true,
        //                lineStyle: {
        //            color: '#6699ff'
        //                }
        //        },
        //            axisLabel: {
        //        show: true,
        //                textStyle: {
        //            color: '#fff'
        //                }
        //        }
        //    },
        //        yAxis: {
        //    type: 'value',
        //            name: 'g/m',
        //            axisLine: {
        //        show: true,
        //                lineStyle: {
        //            color: '#6699ff'
        //                }
        //        }
        //    },
        //        series: [{
        //    name: '油烟浓度',
        //            data: [100, 200, 150, 80, 70, 110, 130],
        //            type: 'line',
        //            itemStyle: {
        //        normal: {
        //            color: '#ffff00'
        //                }
        //        }
        //    },
        //        {
        //    name: 'NMHC',
        //            data: [50, 200, 150, 80, 70, 110, 130],
        //            type: 'line',
        //            itemStyle: {
        //        normal: {
        //            color: '#dd3f70'
        //                }
        //        }
        //    },
        //        {
        //    name: '颗粒物',
        //            data: [20, 200, 150, 80, 70, 110, 130],
        //            type: 'line',
        //            itemStyle: {
        //        normal: {
        //            color: '#00ffff'
        //                }
        //        }
        //    },
        //        {
        //    name: '维护工作量',
        //            data: [120, 200, 150, 80, 70, 110, 130],
        //            type: 'bar',
        //            itemStyle: {
        //        normal: {
        //            color: 'rgb(78,87,116)'
        //                }
        //        }
        //    }

        //        ]
        //    };


            option = {
                color: ['#dd3f70'],
                tooltip: {
                    trigger: 'axis',
                    axisPointer: {
                        type: 'shadow'
                    }
                },
                legend: {
                    textStyle: {
                        "color": "#ffffff",
                        "fontSize": 12,
                        "fontFamily": "CN regular"
                    },
                    padding: [15, 20],
                    data: ['油烟浓度']
                },
                xAxis: [
                    {
                        name: 'h',
                        nameTextStyle: {
                            color: '#ffffff'
                        },
                        type: 'category',
                        axisTick: { show: false },
                        axisLabel: {
                            margin: 2,
                            textStyle: {
                                'color': '#ffffff',
                                "fontSize": 12,
                                "fontFamily": "CN regular"
                            }
                        },
                        data: SUMData_Date
                    }
                ],
                yAxis: [
                    {
                        name: '(mg/m³)',
                        nameTextStyle: {
                            color: '#ffffff'
                        },
                        type: 'value',
                        axisLabel: {
                            textStyle: {
                                'color': '#ffffff',
                                "fontSize": 12,
                                "fontFamily": "CN regular"
                            }
                        },
                    }
                ],
                series: [
                    {
                        name: '油烟浓度',
                        type: 'bar',
                        barGap: 0,
                        data: SUMData_Y
                    }
                ]
            };

        if (option && typeof option === "object") {
            myChart.setOption(option, true);
        }
        window.addEventListener("resize", function () {
            myChart.resize();
        });
        }

        function echart5() {
        var dom = document.getElementById("echart5");
        var myChart = echarts.init(dom);
        option = null;
        option = {
        tooltip: {
            trigger: 'item',
                    formatter: '{a} <br/>{b}: {c} ({d}%)'
                },
                legend: {
            // orient: 'vertical',
            // right: 10,
            // x:'center',
            // y:'bottom',
            bottom: -5,
                    left: 'center',
                    data: ['工单处理率'],
                    itemWidth: 0,
                    itemHeight: 0,
                    textStyle: {
                color: 'white'
                    }
            },
                series: [
                    {
            name: '访问来源',
                        type: 'pie',
                        radius: ['50%', '70%'],
                        avoidLabelOverlap: false,
                        label: {
                normal: {
                    show: true,
                                position: 'center',
                                formatter: function () {
                            return '75%';
                        },
                                textStyle: {
                        fontSize: 25,
                                    color: 'white'
                                }
                    }
                },

                        labelLine: {
                show: false
                        },
                        data: [
                            { value: 700, name: '工单处理率', itemStyle: { color: '#dd3f70' } },
                            { value: 310, name: '工单未处理率', itemStyle: { color: '#d96e5a' } }
                        ]
                    }
                ]
            };

        if (option && typeof option === "object") {
            myChart.setOption(option, true);
        }
        window.addEventListener("resize", function () {
            myChart.resize();
        });
        }

        function echart6() {
        var dom = document.getElementById("echart6");
        var myChart = echarts.init(dom);
        option = null;
        option = {
        tooltip: {
            trigger: 'item',
                    formatter: '{a} <br/>{b}: {c} ({d}%)'
                },
                legend: {
            // orient: 'vertical',
            // right: 10,
            // x:'center',
            // y:'bottom',
            bottom: -5,
                    left: 'center',
                    data: ['工单及时率'],
                    itemWidth: 0,
                    itemHeight: 0,
                    textStyle: {
                color: 'white'
                    }
            },
                series: [
                    {
            name: '访问来源',
                        type: 'pie',
                        radius: ['50%', '70%'],
                        avoidLabelOverlap: false,
                        label: {
                normal: {
                    show: true,
                                position: 'center',
                                formatter: function () {
                            return '75%';
                        },
                                textStyle: {
                        fontSize: 25,
                                    color: 'white'
                                }
                    }
                },

                        labelLine: {
                show: false
                        },
                        data: [
                            { value: 700, name: '工单及时率', itemStyle: { color: '#00ffff' } },
                            { value: 310, name: '工单未处理率', itemStyle: { color: '#d96e5a' } }
                        ]
                    }
                ]
            };

        if (option && typeof option === "object") {
            myChart.setOption(option, true);
        }
        window.addEventListener("resize", function () {
            myChart.resize();
        });
        }

        function echart7() {
        var dom = document.getElementById("echart7");
        var myChart = echarts.init(dom);
        option = null;
        option = {
        legend: {
            textStyle: {
                color: '#ffffff'
                    },
                    data: ['油烟浓度', '非甲烷总经', '颗粒物']
                },
                xAxis: {
            type: 'category',
                    data: ['17', '18', '19', '20', '21', '22', '23'],
                    axisLine: {
                show: true,
                        lineStyle: {
                    color: '#6699ff'
                        }
                },
                    axisLabel: {
                show: true,
                        textStyle: {
                    color: '#fff'
                        }
                }
            },
                yAxis: {
            type: 'value',
                    name: 'g/m',
                    axisLine: {
                show: true,
                        lineStyle: {
                    color: 'white'
                        }
                }
            },
                series: [{
            name: '油烟浓度',
                    data: [100, 200, 150, 80, 70, 110, 130],
                    type: 'line',
                    itemStyle: {
                normal: {
                    color: '#ffff00'
                        }
                }
            },
                {
            name: '非甲烷总经',
                    data: [50, 200, 150, 80, 70, 110, 130],
                    type: 'line',
                    itemStyle: {
                normal: {
                    color: '#dd3f70'
                        }
                }
            },
                {
            name: '颗粒物',
                    data: [20, 200, 150, 80, 70, 110, 130],
                    type: 'line',
                    itemStyle: {
                normal: {
                    color: '#00ffff'
                        }
                }
            }
                ]
            };

        if (option && typeof option === "object") {
            myChart.setOption(option, true);
        }
        window.addEventListener("resize", function () {
            myChart.resize();
        });
        }

        function echart8() {
        var dom = document.getElementById("echart8");
        var myChart = echarts.init(dom);
        option = null;
        option = {
        legend: {
            textStyle: {
                color: '#ffffff'
                    },
                    data: ['风机电流', '净化器电流']
                },
                xAxis: {
            type: 'category',
                    data: ['17', '18', '19', '20', '21', '22', '23'],
                    axisLine: {
                show: true,
                        lineStyle: {
                    color: 'white'
                        }
                },
                    axisLabel: {
                show: true,
                        textStyle: {
                    color: '#6699ff'
                        }
                }
            },
                yAxis: {
            type: 'value',
                    name: 'g/m',
                    axisLine: {
                show: true,
                        lineStyle: {
                    color: '#fff'
                        }
                }
            },
                series: [{
            name: '风机电流',
                    data: [100, 200, 150, 80, 70, 110, 130],
                    type: 'line',
                    itemStyle: {
                normal: {
                    color: '#ffff00'
                        }
                }
            },
                {
            name: '净化器电流',
                    data: [50, 200, 150, 80, 70, 110, 130],
                    type: 'line',
                    itemStyle: {
                normal: {
                    color: '#dd3f70'
                        }
                }
            }
                ]
            };

        if (option && typeof option === "object") {
            myChart.setOption(option, true);
        }
        window.addEventListener("resize", function () {
            myChart.resize();
        });
        }
    });
</script>
<script>
    function openLayer1() {
        var layer_1 = document.getElementById('layer_1');
        layer_1.style.display = 'block';
    }

    function closeLayer1() {
        var layer_1 = document.getElementById('layer_1');
        layer_1.style.display = 'none';
    }

    function openLayer2() {
        var layer_2 = document.getElementById('layer_2');
        layer_2.style.display = 'block';
    }

    function closeLayer2() {
        var layer_2 = document.getElementById('layer_2');
        layer_2.style.display = 'none';
    }

    function openLayer3() {
        var layer_3 = document.getElementById('layer_3');
        layer_3.style.display = 'block';
    }

    function closeLayer3() {
        var layer_3 = document.getElementById('layer_3');
        layer_3.style.display = 'none';
    }

    /*右二table点击事件*/
    function tableCenClick(MN) {
        //alert(DeviceId);
        //清空原来的选项
        var Count = $("#MaintainTable tr").length;
        for (var i = 1; i < Count; i++) {
            $("#MaintainTable tr").last().remove();
        }
        //加载对应的维护项目
        $.ajax({
            type: "POST",
            url: "/DataView/GetMaintainByMN",
            async: false,
            data: { "MN": MN },
            success: function (msg) {
                if (msg.length > 0) {
                    var htmlStr = "";
                    for (var i = 0; i < msg.length; i++) {
                        $("#layer_4_DeviceName").text(msg[i].DeviceName);
                        $("#layer_4_DeviceType").text(msg[i].DeviceType);
                        htmlStr += "<tr><td>" + msg[i].UserName + "</td><td>" + msg[i].MaintainTime + "</td><td>完成</td><td>" + msg[i].MaintainMemo + "</td>";
                        htmlStr += "<td><a htrf='" + msg[i].ImgUrl + " target='_blank'>查看</a></td>";
                        $("#MaintainTable").append(htmlStr);
                    }
                }
            }
        });

        var layer_4 = document.getElementById('layer_4');
        layer_4.style.display = 'block';
    }

    function closeLayer4() {
        var layer_4 = document.getElementById('layer_4');
        layer_4.style.display = 'none';
    }

    /*右三table点击事件*/
    function tableBottomClick(obj) {
        var layer_5 = document.getElementById('layer_5');
        layer_5.style.display = 'block';
    }

    function closeLayer5() {
        var layer_5 = document.getElementById('layer_5');
        layer_5.style.display = 'none';
    }
</script>
<script>
    /*js控制部分*/

    function triggerEvent(element, eventNameStr) {
        if (document.createEvent) {
            event = document.createEvent("HTMLEvents");
            event.initEvent(eventNameStr, true, true);
            event.eventName = eventNameStr;
            element.dispatchEvent(event);
        } else {
            event = document.createEventObject();
            event.eventType = eventNameStr;
            event.eventName = eventNameStr;
            element.fireEvent("on" + event.eventType, event);
        }
    }

    /*左二tab*/
    function leftCenClick(obj, tab) {
        $(obj.children[0]).attr('src', './5.png');
        $(obj.children[1]).css('color', 'white');

        if (0 == tab) {
            var tabObj = $(obj).parent()[0].children[1];
            $(tabObj.children[0]).attr('src', './6.png');
            $(tabObj.children[1]).css('color', '#6666cc');
        }
        if (1 == tab) {
            var tabObj = $(obj).parent()[0].children[0];
            $(tabObj.children[0]).attr('src', './6.png');
            $(tabObj.children[1]).css('color', '#6666cc');
        }

        /*这里更新餐饮点位接入情况数据*/
        var arr1 = [{ 'name': '刘抠门', 'area': '重庆', 'contact': '200', 'phone': '12312313' }, { 'name': '李四', 'area': '北京', 'contact': '200', 'phone': '12312313' }];
        var arr2 = [{ 'name': '李四', 'area': '北京', 'contact': '200', 'phone': '12312313' }];
        var $ul = $('#left-cen-ul');

        $ul.empty();
        if (tab == 0) {
            //arr1.map((val) => {
            //    $ul.append('<li><div class="fontInner_1 clearfix">' +
            //        '<span class="gd_span_1">' + val.name + '</span><span class="gd_span_2">' + val.area + '</span><span class="gd_span_3">' + val.contact + '</span>' +
            //        '<span class="gd_span_4">' + val.phone + '</span></div></li>');
            //});

            for (var p in DeviceListJson) {
                $ul.append('<li><div class="fontInner_1 clearfix">' +
                    '<span class="gd_span_1">' + DeviceListJson[p].Name + '</span><span class="gd_span_2">' + '永川区' + '</span><span class="gd_span_3">' + '无' + '</span>' +
                    '<span class="gd_span_4">' + '13988888888' + '</span></div></li>');
            }

        }

        if (tab == 1) {
            //arr2.map((val) => {
            //    $ul.append('<li><div class="fontInner_1 clearfix">'
            //        + '<span class="gd_span_1">' + val.name + '</span><span class="gd_span_2">' + val.area + '</span><span class="gd_span_3">' + val.contact + '</span>' +
            //        '<span class="gd_span_4">' + val.phone + '</span></div></li>');
            //});



        }

        //triggerEvent(document.getElementById("FontScroll"), "mouseover");
        //triggerEvent(document.getElementById("FontScroll"), "mouseout");
    }


    /*左三tab*/
    function leftBottomClick(obj, tab) {
        $(obj).attr('src', './9.png');
        var parent = $(obj).parent()[0];
        $(parent.children[1]).css('color', 'white');
        $(parent.children[2]).css('color', 'white');
        $(parent.children[2]).css('opacity', '1');
        $(parent.children[3]).css('opacity', '1');
        $(parent.children[3]).css('color', '#6666cc');

        if (0 == tab) {
            var tabObj = $(obj).parent().parent()[0].children[0];
            $(tabObj.children[0]).attr('src', './11.png');
            $(tabObj.children[1]).css('color', '#6666cc');
            $(tabObj.children[2]).css('opacity', '0');
            $(tabObj.children[3]).css('opacity', '0');
        }

        if (1 == tab) {
            var tabObj = $(obj).parent().parent()[0].children[1];
            $(tabObj.children[0]).attr('src', './11.png');
            $(tabObj.children[1]).css('color', '#6666cc');
            $(tabObj.children[2]).css('opacity', '0');
            $(tabObj.children[3]).css('opacity', '0');
        }



        /*数据更新 tab == 0 默认只更新第一个*/
        var arr1 = [{ 'name': '刘抠门', 'area': '重庆', 'contact': '200' }];
        var arr2 = [{ 'name': '刘抠门', 'area': '重庆', 'contact': '200' }];
        var $ul = $('#left-bottom-ul');
        $ul.empty();

        if (tab == 0) {
            $("#BJTab").text("报警时间");

            OffLineDeviceListJson.map((val) => {
                $ul.append('<li><div class="fontInner_2 clearfix">'
                    + '<span class="gd_span_1">' + val.Name + '</span><span class="gd_span_2">' + '设备离线' + '</span><span class="gd_span_3">' + val.LastTime + '</span></div></li>');
            });
        }

        /*数据更新  tab == 1 默认只更新第一个*/
        if (tab == 1) {
            $("#BJTab").text("报警时间");

            ExcessMsgList_OK.map((val) => {
                $ul.append('<li><div class="fontInner_2 clearfix">'
                    + '<span class="gd_span_1">' + val.DeviceName + '</span><span class="gd_span_2">' + val.WarningReason + '</span><span class="gd_span_3">' + val.WarningTime + '</span></div></li>');
            });

            ////ExcessList_Y.map((val) => {
            ////    $ul.append('<li><div class="fontInner_2 clearfix">'
            ////        + '<span class="gd_span_1">' + val.Name + '</span><span class="gd_span_2">' + '油烟超标' + '</span><span class="gd_span_3">' + val.Y1 +"mg/m³" + '</span></div></li>');
            ////});
            ////ExcessList_V.map((val) => {
            ////    $ul.append('<li><div class="fontInner_2 clearfix">'
            ////        + '<span class="gd_span_1">' + val.Name + '</span><span class="gd_span_2">' + '非甲烷总烃超标' + '</span><span class="gd_span_3">' + val.V1 + "mg/m³" + '</span></div></li>');
            ////});
            ////ExcessList_K.map((val) => {
            ////    $ul.append('<li><div class="fontInner_2 clearfix">'
            ////        + '<span class="gd_span_1">' + val.Name + '</span><span class="gd_span_2">' + '颗粒物超标' + '</span><span class="gd_span_3">' + val.K1 + "mg/m³" + '</span></div></li>');
            ////});
        }
    }

    /*左三tab下文字*/
    function leftBottomFontClick(obj, tab, type) {
        $(obj).css('color', 'white');
        if (0 == tab) {
            var tabObj = $(obj).parent()[0].children[3];
            $(tabObj).css('color', '#6666cc');
        }

        if (1 == tab) {
            var tabObj = $(obj).parent()[0].children[2];
            $(tabObj).css('color', '#6666cc');
        }

        /*type == top时上下切换数据*/
        var arr1 = [{ 'name': '刘抠门', 'area': '重庆', 'contact': '200' }];
        var arr2 = [{ 'name': '刘抠门', 'area': '重庆', 'contact': '200' }];
        var arr3 = [{ 'name': '刘抠门', 'area': '重庆', 'contact': '200' }];
        var arr4 = [{ 'name': '刘抠门', 'area': '重庆', 'contact': '200' }];
        var $ul = $('#left-bottom-ul');
        $ul.empty();

        //已处理
        if (type == 'top' && tab == 0) {
            //arr1.map((val) => {
            //    $ul.append('<li><div class="fontInner_2 clearfix">'
            //        + '<span class="gd_span_1">' + val.name + '</span><span class="gd_span_2">' + val.area + '</span><span class="gd_span_3">' + val.contact + '</span></div></li>');
            //});

            ExcessMsgList_OK.map((val) => {
                $ul.append('<li><div class="fontInner_2 clearfix">'
                    + '<span class="gd_span_1">' + val.DeviceName + '</span><span class="gd_span_2">' + val.WarningReason + '</span><span class="gd_span_3">' + val.WarningTime + '</span></div></li>');
            });

            //OffLineDeviceListJson.map((val) => {
            //    $ul.append('<li><div class="fontInner_2 clearfix">'
            //        + '<span class="gd_span_1">' + val.Name + '</span><span class="gd_span_2">' + '设备离线' + '</span><span class="gd_span_3">' + val.LastTime + '</span></div></li>');
            //});
        }

        //未处理
        if (type == 'top' && tab == 1) {
            //arr2.map((val) => {
            //    $ul.append('<li><div class="fontInner_2 clearfix">'
            //        + '<span class="gd_span_1">' + val.name + '</span><span class="gd_span_2">' + val.area + '</span><span class="gd_span_3">' + val.contact + '</span></div></li>');
            //});

            ExcessMsgList_NO.map((val) => {
                $ul.append('<li><div class="fontInner_2 clearfix">'
                    + '<span class="gd_span_1">' + val.DeviceName + '</span><span class="gd_span_2">' + val.WarningReason + '</span><span class="gd_span_3">' + val.WarningTime + '</span></div></li>');
            });


        }


        /*type == bottom时上下切换数据*/
        if (type == 'bottom' && tab == 0) {
            //arr3.map((val) => {
            //    $ul.append('<li><div class="fontInner_2 clearfix">'
            //        + '<span class="gd_span_1">' + val.name + '</span><span class="gd_span_2">' + val.area + '</span><span class="gd_span_3">' + val.contact + '</span></div></li>');
            //});

            ExcessList_Y.map((val) => {
                $ul.append('<li><div class="fontInner_2 clearfix">'
                    + '<span class="gd_span_1">' + val.Name + '</span><span class="gd_span_2">' + '油烟超标' + '</span><span class="gd_span_3">' + val.Y1 + "mg/m³" + '</span></div></li>');
            });
            ExcessList_V.map((val) => {
                $ul.append('<li><div class="fontInner_2 clearfix">'
                    + '<span class="gd_span_1">' + val.Name + '</span><span class="gd_span_2">' + '非甲烷总烃超标' + '</span><span class="gd_span_3">' + val.V1 + "mg/m³" + '</span></div></li>');
            });
            ExcessList_K.map((val) => {
                $ul.append('<li><div class="fontInner_2 clearfix">'
                    + '<span class="gd_span_1">' + val.Name + '</span><span class="gd_span_2">' + '颗粒物超标' + '</span><span class="gd_span_3">' + val.K1 + "mg/m³" + '</span></div></li>');
            });
        }
        if (type == 'bottom' && tab == 1) {
            arr4.map((val) => {
                $ul.append('<li><div class="fontInner_2 clearfix">'
                    + '<span class="gd_span_1">' + val.name + '</span><span class="gd_span_2">' + val.area + '</span><span class="gd_span_3">' + val.contact + '</span></div></li>');
            });
        }
    }


    /*右一tab*/
    function rightTopClick(obj, tab) {
        var dom = document.getElementById("echart4");
        var myChart = echarts.init(dom);

        $(obj).css('background-color', '#6699ff');
        for (var item = 0; item < 5; item++) {
            if (tab != item) {
                var tabobj = $(obj).parent()[0].children[item];
                $(tabobj).css('background-color', '#160544');
            }
        }
    /*这里更新右一历史趋势图的数据*/
        var option0 = {
            color: ['#dd3f70'],
            tooltip: {
                trigger: 'axis',
                axisPointer: {
                    type: 'shadow'
                }
            },
            legend: {
                textStyle: {
                    "color": "#ffffff",
                    "fontSize": 12,
                    "fontFamily": "CN regular"
                },
                padding: [15, 20],
                data: ['油烟总量']
            },
            xAxis: [
                {
                    name: 'h',
                    nameTextStyle: {
                        color: '#ffffff'
                    },
                    type: 'category',
                    axisTick: { show: false },
                    axisLabel: {
                        margin: 2,
                        textStyle: {
                            'color': '#ffffff',
                            "fontSize": 12,
                            "fontFamily": "CN regular"
                        }
                    },
                    data: SUMData_Date
                }
            ],
            yAxis: [
                {
                    name: '(mg/m³)',
                    nameTextStyle: {
                        color: '#ffffff'
                    },
                    type: 'value',
                    axisLabel: {
                        textStyle: {
                            'color': '#ffffff',
                            "fontSize": 12,
                            "fontFamily": "CN regular"
                        }
                    },
                }
            ],
            series: [
                {
                    name: '油烟总量',
                    type: 'bar',
                    barGap: 0,
                    data: SUMData_Y
                }
            ]
        };

        var option1 = {
            color: ['#00ffff'],
            tooltip: {
                trigger: 'axis',
                axisPointer: {
                    type: 'shadow'
                }
            },
            legend: {
                textStyle: {
                    "color": "#ffffff",
                    "fontSize": 12,
                    "fontFamily": "CN regular"
                },
                padding: [15, 20],
                data: ['非甲烷总烃总量']
            },
            xAxis: [
                {
                    name: 'h',
                    nameTextStyle: {
                        color: '#ffffff'
                    },
                    type: 'category',
                    axisTick: { show: false },
                    axisLabel: {
                        margin: 2,
                        textStyle: {
                            'color': '#ffffff',
                            "fontSize": 12,
                            "fontFamily": "CN regular"
                        }
                    },
                    data: SUMData_Date
                }
            ],
            yAxis: [
                {
                    name: '(mg/m³)',
                    nameTextStyle: {
                        color: '#ffffff'
                    },
                    type: 'value',
                    axisLabel: {
                        textStyle: {
                            'color': '#ffffff',
                            "fontSize": 12,
                            "fontFamily": "CN regular"
                        }
                    },
                }
            ],
            series: [
                {
                    name: '非甲烷总烃总量',
                    type: 'bar',
                    barGap: 0,
                    data: SUMData_V
                }
            ]
        };
         
        var option2 = {
            color: ['#ffff00'],
            tooltip: {
                trigger: 'axis',
                axisPointer: {
                    type: 'shadow'
                }
            },
            legend: {
                textStyle: {
                    "color": "#ffffff",
                    "fontSize": 12,
                    "fontFamily": "CN regular"
                },
                padding: [15, 20],
                data: ['颗粒物总量']
            },
            xAxis: [
                {
                    name: 'h',
                    nameTextStyle: {
                        color: '#ffffff'
                    },
                    type: 'category',
                    axisTick: { show: false },
                    axisLabel: {
                        margin: 2,
                        textStyle: {
                            'color': '#ffffff',
                            "fontSize": 12,
                            "fontFamily": "CN regular"
                        }
                    },
                    data: SUMData_Date
                }
            ],
            yAxis: [
                {
                    name: '(mg/m³)',
                    nameTextStyle: {
                        color: '#ffffff'
                    },
                    type: 'value',
                    axisLabel: {
                        textStyle: {
                            'color': '#ffffff',
                            "fontSize": 12,
                            "fontFamily": "CN regular"
                        }
                    },
                }
            ],
            series: [
                {
                    name: '颗粒物总量',
                    type: 'bar',
                    barGap: 0,
                    data: SUMData_K
                }
            ]
        };

        var option3 = {
            legend: {
                textStyle: {
                    color: '#ffffff'
                },
                data: ['油烟浓度', 'NMHC', '颗粒物', '维护工作量']
            },
            xAxis: {
                type: 'category',
                data: ['人名', '人名', '人名', '人名', '人名', '人名', '人名'],
                axisLine: {
                    show: true,
                    lineStyle: {
                        color: '#6699ff'
                    }
                },
                axisLabel: {
                    show: true,
                    textStyle: {
                        color: '#fff'
                    }
                }
            },
            yAxis: {
                type: 'value',
                name: 'g/m',
                axisLine: {
                    show: true,
                    lineStyle: {
                        color: '#6699ff'
                    }
                }
            },
            series: [{
                name: '油烟浓度',
                data: [200, 200, 150, 80, 70, 110, 130],
                type: 'line',
                itemStyle: {
                    normal: {
                        color: '#ffff00'
                    }
                }
            },
            {
                name: 'NMHC',
                data: [40, 200, 150, 80, 70, 110, 130],
                type: 'line',
                itemStyle: {
                    normal: {
                        color: '#dd3f70'
                    }
                }
            },
            {
                name: '颗粒物',
                data: [20, 200, 150, 80, 70, 110, 130],
                type: 'line',
                itemStyle: {
                    normal: {
                        color: '#00ffff'
                    }
                }
            },
            {
                name: '维护工作量',
                data: [110, 200, 150, 80, 70, 110, 130],
                type: 'bar',
                itemStyle: {
                    normal: {
                        color: 'rgb(78,87,116)'
                    }
                }
            }
            ]
        };

        var option4 = {
            legend: {
                textStyle: {
                    color: '#ffffff'
                },
                data: ['油烟浓度', 'NMHC', '颗粒物', '维护工作量']
            },
            xAxis: {
                type: 'category',
                data: ['人名', '人名', '人名', '人名', '人名', '人名', '人名'],
                axisLine: {
                    show: true,
                    lineStyle: {
                        color: '#6699ff'
                    }
                },
                axisLabel: {
                    show: true,
                    textStyle: {
                        color: '#fff'
                    }
                }
            },
            yAxis: {
                type: 'value',
                name: 'g/m',
                axisLine: {
                    show: true,
                    lineStyle: {
                        color: '#6699ff'
                    }
                }
            },
            series: [{
                name: '油烟浓度',
                data: [200, 200, 150, 80, 70, 110, 130],
                type: 'line',
                itemStyle: {
                    normal: {
                        color: '#ffff00'
                    }
                }
            },
            {
                name: 'NMHC',
                data: [40, 200, 150, 80, 70, 110, 130],
                type: 'line',
                itemStyle: {
                    normal: {
                        color: '#dd3f70'
                    }
                }
            },
            {
                name: '颗粒物',
                data: [20, 200, 150, 80, 70, 110, 130],
                type: 'line',
                itemStyle: {
                    normal: {
                        color: '#00ffff'
                    }
                }
            },
            {
                name: '维护工作量',
                data: [110, 200, 150, 80, 70, 110, 130],
                type: 'bar',
                itemStyle: {
                    normal: {
                        color: 'rgb(78,87,116)'
                    }
                }
            }
            ]
        };

        if (tab == 0) { //油烟
            if (option0 && typeof option0 === "object") {
                myChart.setOption(option0, true);
                $("#BlowOFFSUM_Year").text(BlowOffSUM.Year_Y + "吨");
                $("#BlowOFFSUM_Month").text(BlowOffSUM.Month_Y + "吨");
                $("#BlowOFFSUM_Day").text(BlowOffSUM.Day_Y + "吨");
            }
        }

        if (tab == 1) { //NMHC
            if (option1 && typeof option1 === "object") {
                myChart.setOption(option1, true);
                $("#BlowOFFSUM_Year").text(BlowOffSUM.Year_V + "吨");
                $("#BlowOFFSUM_Month").text(BlowOffSUM.Month_V + "吨");
                $("#BlowOFFSUM_Day").text(BlowOffSUM.Day_V + "吨");
            }
        }

        if (tab == 2) { //颗粒物
            if (option2 && typeof option2 === "object") {
                myChart.setOption(option2, true);
                $("#BlowOFFSUM_Year").text(BlowOffSUM.Year_K + "吨");
                $("#BlowOFFSUM_Month").text(BlowOffSUM.Month_K + "吨");
                $("#BlowOFFSUM_Day").text(BlowOffSUM.Day_K + "吨");
            }
        }

        if (tab == 3) { 
            if (option3 && typeof option3 === "object") {
                myChart.setOption(option3, true);
            }
        }

        if (tab == 4) {
            if (option4 && typeof option4 === "object") {
                myChart.setOption(option4, true);
            }
        }

        window.addEventListener("resize", function () {
            myChart.resize();
        });
    }


    /*右二tab*/
    function rightCenClick(obj, tab) {
        $(obj.children[0]).attr('src', './5.png');
        $(obj.children[1]).css('color', 'white');

        if (0 == tab) {
            var tabObj = $(obj).parent()[0].children[1];
            $(tabObj.children[0]).attr('src', './6.png');
            $(tabObj.children[1]).css('color', '#6666cc');
        }
        if (1 == tab) {
            var tabObj = $(obj).parent()[0].children[0];
            $(tabObj.children[0]).attr('src', './6.png');
            $(tabObj.children[1]).css('color', '#6666cc');
        }

        /*这里更新设备维护情况情况数据*/
        var arr1 = [{ 'location': '刘抠门', 'name': '重庆', 'time': '200', 'remark': '12312313' }];
        var arr2 = [{ 'location': '李四', 'name': '北京', 'time': '200', 'remark': '12312313' }];
        var $ul = $('#right-cen-ul');

        $ul.empty();
        //一级接入
        if (tab == 0) {
            for (var p in MaintainListJSON)
            {
                $ul.append('<li onclick="tableCenClick(' + MaintainListJSON[p].MN + ');"><div class="fontInner_1 clearfix"><span class="gd_span_1" style="width:50%">' + MaintainListJSON[p].DeviceName + '</span>'
                    + '<span class="gd_span_2" style="width:25%">' + MaintainListJSON[p].DeviceType + '</span>' + '<span class="gd_span_3" style="width:25%">' + MaintainListJSON[p].MaintainTime + '</span></div></li>');
            };

            //arr1.map((val) => {
            //    $ul.append('<li onclick="tableCenClick(this);"><div class="fontInner_1 clearfix"><span class="gd_span_1">' + val.location + '</span>'
            //        + '<span class="gd_span_2">' + val.name + '</span>' + '<span class="gd_span_3">' + val.time + '</span>' + '<span class="gd_span_4">' + val.remark + '</span></div></li>');
            //});
        }
        //二级接入
        if (tab == 1) {
            //for (var i = 0; i < 15; i++) {
            //    arr2.map((val) => {
            //        $ul.append('<li onclick="tableCenClick(this);"><div class="fontInner_1 clearfix"><span class="gd_span_1">' + val.location + '</span>'
            //            + '<span class="gd_span_2">' + val.name + '</span>' + '<span class="gd_span_3">' + val.time + '</span>' + '<span class="gd_span_4">' + val.remark + '</span></div></li>');
            //    });
            //}

        }
    }
</script>
<script>
    //顶部时间
    function getTime() {
        var myDate = new Date();
        var myYear = myDate.getFullYear(); //获取完整的年份(4位,1970-????)
        var myMonth = myDate.getMonth() + 1; //获取当前月份(0-11,0代表1月)
        var myToday = myDate.getDate(); //获取当前日(1-31)
        var myDay = myDate.getDay(); //获取当前星期X(0-6,0代表星期天)
        var myHour = myDate.getHours(); //获取当前小时数(0-23)
        var myMinute = myDate.getMinutes(); //获取当前分钟数(0-59)
        var mySecond = myDate.getSeconds(); //获取当前秒数(0-59)
        var week = ['星期日', '星期一', '星期二', '星期三', '星期四', '星期五', '星期六'];
        var nowTime;
        nowTime = myYear + '年' + fillZero(myMonth) + '月' + fillZero(myToday) + '&nbsp;&nbsp;' + fillZero(myHour) + '时' + fillZero(myMinute) + '分' + fillZero(mySecond) + '&nbsp;&nbsp;' + week[myDay] + '&nbsp;&nbsp;';
        $('#time').html(nowTime);
    };

    function fillZero(str) {
        var realNum;
        if (str < 10) realNum = '0' + str;
        else realNum = str;
        return realNum;
    }

    setInterval(getTime, 1000);

    var now1 = new Date();
    now1.setHours(now1.getHours() - 1);
    var map;
    var DeviceListArray = [];
    //var DeviceListJson = [
    //    { "DeviceId": 1, "MN": "1122334455", "Name": "桂花烤全羊", "Address": "重庆江津区双庆路238号", "ChannelNum": 1, "lon": 106.278685, "lat": 29.424221, "Y1": 0.42, "V1": 4.75, "K1": 2.69, "Y2": 0.0, "V2": 0.0, "K2": 0.0, "LastTime": "2020-02-09 23:55:22", "amp1": null, "amp2": null },
    //    { "DeviceId": 2, "MN": "123456789012345678901234", "Name": "双福2通道", "Address": "英利五金机电城", "ChannelNum": 2, "lon": 106.288685, "lat": 29.434221, "Y1": 0.0, "V1": 0.0, "K1": 0.0, "Y2": 0.0, "V2": 0.0, "K2": 0.0, "LastTime": "2020-12-23 15:32:17", "amp1": 0.5, "amp2": 0.5 },
    //    { "DeviceId": 9, "MN": "20201102", "Name": "永川区杨庆勇餐馆", "Address": "重庆市永川区胜利路148号", "ChannelNum": 1, "lon": 105.896108, "lat": 29.35939, "Y1": 0.65, "V1": 2.51, "K1": 1.19, "Y2": 0.0, "V2": 0.0, "K2": 0.0, "LastTime": "2021-01-07 12:47:00", "amp1": 4.2, "amp2": 0.5 },
    //    { "DeviceId": 10, "MN": "20201109", "Name": "永川区刘二娃餐馆", "Address": "重庆市永川区渝西大道西段34号", "ChannelNum": 1, "lon": 105.896158, "lat": 29.357016, "Y1": 0.37, "V1": 1.43, "K1": 0.72, "Y2": 0.0, "V2": 0.0, "K2": 0.0, "LastTime": "2021-01-07 11:57:41", "amp1": 1.4, "amp2": 0.5 },
    //    { "DeviceId": 11, "MN": "20201103", "Name": "永川区韵秋餐饮店", "Address": "庆市永川区玉屏北路186号附2号", "ChannelNum": 1, "lon": 105.906981, "lat": 29.365545, "Y1": 0.38, "V1": 1.46, "K1": 0.69, "Y2": 0.0, "V2": 0.0, "K2": 0.0, "LastTime": "2021-01-07 17:33:27", "amp1": 8.7, "amp2": 0.9 },
    //    { "DeviceId": 12, "MN": "20201104", "Name": "永川区柴米油盐餐馆", "Address": "重庆市永川区萱花西路 41、43号", "ChannelNum": 1, "lon": 105.888993, "lat": 29.37245, "Y1": 8.79, "V1": 33.58, "K1": 18.19, "Y2": 0.0, "V2": 0.0, "K2": 0.0, "LastTime": "2021-01-07 13:38:21", "amp1": 0.5, "amp2": 0.5 },
    //    { "DeviceId": 13, "MN": "20201110", "Name": "永川区柒陆餐馆 （农家大院）", "Address": "重庆市永川区玉屏北路 361号附1号", "ChannelNum": 1, "lon": 105.909818, "lat": 29.366736, "Y1": 0.28, "V1": 1.1, "K1": 0.52, "Y2": 0.0, "V2": 0.0, "K2": 0.0, "LastTime": "2021-01-07 18:14:42", "amp1": 9.5, "amp2": 1.9 },
    //    { "DeviceId": 14, "MN": "20201108", "Name": "永川区山村老灶餐饮店", "Address": "重庆市永川区箕山路17号", "ChannelNum": 1, "lon": 105.900291, "lat": 29.364293, "Y1": 0.38, "V1": 1.48, "K1": 0.7, "Y2": 0.0, "V2": 0.0, "K2": 0.0, "LastTime": "2021-01-05 09:21:42", "amp1": 1.2, "amp2": 0.5 }];

    var opts1 = {
        width: 525,     // 信息窗口宽度
        height: 392,     // 信息窗口高度
        enableMessage: true//设置允许信息窗发送短息
    };
    var opts2 = {
        width: 525,     // 信息窗口宽度
        height: 392,     // 信息窗口高度
        enableMessage: true//设置允许信息窗发送短息
    };

    function initMap() {
        // 百度地图API功能
        map = new BMap.Map("mapDetail");
        var IconGray = new BMap.Icon("/Content/Img/icon_1.png", new BMap.Size(32, 32)); //第二个参数为图标大小
        var IconGreen = new BMap.Icon("/Content/Img/icon_2.png", new BMap.Size(32, 32));
        var IconRed = new BMap.Icon("/Content/Img/icon_3.png", new BMap.Size(32, 32));


        var point = new BMap.Point(105.898317, 29.394905);
        map.centerAndZoom(point, 15);
        map.enableScrollWheelZoom();
        map.setMapStyleV2({
            styleId: '116436b35bdb4c1508eea8a5552d0ae2'
        });

        for (var i = 0; i < DeviceListJson.length; i++) {
            console.log('数据打印');
            console.log(DeviceListJson[i]['DeviceId']);

            DeviceListArray.push(DeviceListJson[i]['DeviceId']);
            //这里需要查找其他相似的数组
            for (var j = i + 1; j < DeviceListJson.length; j++) {
                if (DeviceListJson[j]['lon'] == DeviceListJson[i]['lon'] && DeviceListJson[j]['lat'] == DeviceListJson[i]['lat']) {
                    //表明找到相等的,把这个弄进来
                    DeviceListArray.push(DeviceListJson[j]['DeviceId']);
                    //然后需要在原数组内删除掉弄进来的这个元素
                    DeviceListJson.splice(j, 1);
                }
            }

            point = new BMap.Point(DeviceListJson[i]['lon'], DeviceListJson[i]['lat']);
            var marker;
            var LastTime = new Date(Date.parse(DeviceListJson[i]['LastTime']))
            if (LastTime > now1) {
                marker = new BMap.Marker(point, { icon: IconGreen });
            }
            else {
                marker = new BMap.Marker(point, { icon: IconGray });
            }

            var InfoContent = "<p>设备名称：" + DeviceListJson[i]['Name'] + "</p>";
            InfoContent += "<p>地址：" + DeviceListJson[i]['Address'] + "</p>";

            if (DeviceListJson[i]['ChannelNum'] == 1) {
                InfoContent += "<p>油烟浓度：" + DeviceListJson[i]['Y1'] + "</p>";
                InfoContent += "<p>非甲烷总烃：" + DeviceListJson[i]['V1'] + "</p>";
                InfoContent += "<p>颗粒物：" + DeviceListJson[i]['K1'] + "</p>";
            }

            else {
                InfoContent += "通道1：";
                InfoContent += "<p>油烟浓度：" + DeviceListJson[i]['Y1'] + "</p>";
                InfoContent += "<p>非甲烷总烃：" + DeviceListJson[i]['V1'] + "</p>";
                InfoContent += "<p>颗粒物：" + DeviceListJson[i]['K1'] + "</p>";
                InfoContent += "通道2：";
                InfoContent += "<p>油烟浓度：" + DeviceListJson[i]['Y2'] + "</p>";
                InfoContent += "<p>非甲烷总烃：" + DeviceListJson[i]['V2'] + "</p>";
                InfoContent += "<p>颗粒物：" + DeviceListJson[i]['K2'] + "</p>";
            }

            map.addOverlay(marker);              // 将标注添加到地图中
            addClickHandler(InfoContent, DeviceListJson[i]['ChannelNum'], marker, DeviceListJson[i]['MN']);
            DeviceListArray = [];
        }
    }


    function addClickHandler(InfoContent, ChannelNum, marker, MN) {
        marker.addEventListener("click", function (e) {
            openInfo(InfoContent, ChannelNum, e, MN)
        });
    }

    //function openInfo(InfoContent, ChannelNum, e, MN) {
    //    var p = e.target;
    //    var point = new BMap.Point(p.getPosition().lng, p.getPosition().lat);
    //    var infoWindow;
    //    if (ChannelNum == 1) {
    //        infoWindow = new BMap.InfoWindow(InfoContent, opts1);
    //    }
    //    else {
    //        infoWindow = new BMap.InfoWindow(InfoContent, opts2);

    //    }
    //    map.openInfoWindow(infoWindow, point);

    //}


    function openInfo(InfoContent, ChannelNum, e, MN) {
        //alert(MN);
        

        //根据MN 获取当前点位数据        
        $.ajax({
            type: "POST",
            url: "/Panel/GetDeviceByMN",
            async: true,
            data: { "MN": MN },
            success: function (data) {
                $("#layer_3_Name").text(data.Name);
                $("#layer_3_Address").text(data.Address);
                $("#layer_3_Y1").text(data.Y1);
                $("#layer_3_V1").text(data.V1);
                $("#layer_3_K1").text(data.K1);
                $("#layer_3_FZR").text(data.FZR);
                $("#layer_3_MJ").text(data.MJ);
                $("#layer_3_Tel").text(data.Tel);
                $("#layer_3_WH_1").text(data.WH_1);
                $("#layer_3_WH_2").text(data.WH_2);
                $("#layer_3_SJFL").text(data.SJFL);
                $("#layer_3_ZTS").text(data.ZTS);
                $("#layer_3_FJLJSJ").text(data.FJLJSJ);
                $("#layer_3_JHQLJSJ").text(data.JHQLJSJ);
            }
        });

        var Data_Date = [];
        var Data_Y = [];
        var Data_V = [];
        var Data_K = [];
        var Data_amp1 = [];
        var Data_amp2 = [];

        openLayer3();
        $.ajax({
            type: "POST",
            url: "/Panel/GetDataByMN",
            async: true,
            data: { "MN": MN },
            success: function (data) {
                for (var i = 0; i < data.length; i++) {
                    if (data[i].Y1 == null || data[i].V1 == null || data[i].K1 == null || data[i].amp1 == null || data[i].amp2 == null) {
                        data[i].Y1 = 0;
                        data[i].V1 = 0;
                        data[i].K1 = 0;
                        data[i].amp1 = 0;
                        data[i].amp2 = 0;
                    }
                    Data_Date.push(data[i].DateHour);
                    Data_Y.push(data[i].Y1);
                    Data_V.push(data[i].V1);
                    Data_K.push(data[i].K1);
                    Data_amp1.push(data[i].amp1);
                    Data_amp2.push(data[i].amp2);


                    var option1_1 = null;
                    option1_1 = {
                        legend: {
                            textStyle: {
                                color: '#ffffff'
                            },
                            data: ['油烟浓度', 'NMHC', '颗粒物']
                        },
                        xAxis: {
                            type: 'category',
                            name: 'h',
                            data: Data_Date,
                            axisLine: {
                                show: true,
                                lineStyle: {
                                    color: '#6699ff'
                                }
                            },
                            axisLabel: {
                                show: true,
                                textStyle: {
                                    color: '#fff'
                                }
                            }
                        },
                        yAxis: {
                            type: 'value',
                            name: 'mg/m³',
                            axisLine: {
                                show: true,
                                lineStyle: {
                                    color: '#6699ff'
                                }
                            }
                        },
                        series: [
                            {
                                name: '油烟浓度',
                                data: Data_Y,
                                type: 'line',
                                itemStyle: {
                                    normal: {
                                        color: '#ffff00'
                                    }
                                }
                            },
                            {
                                name: 'NMHC',
                                data: Data_V,
                                type: 'line',
                                itemStyle: {
                                    normal: {
                                        color: '#dd3f70'
                                    }
                                }
                            },
                            {
                                name: '颗粒物',
                                data: Data_K,
                                type: 'line',
                                itemStyle: {
                                    normal: {
                                        color: '#00ffff'
                                    }
                                }
                            }]
                    };


                    var dom = document.getElementById("echart7");
                    var myChart = echarts.init(dom);
                    myChart.setOption(option1_1, true);


                    var option2_2 = null;
                    option2_2 = {
                        legend: {
                            textStyle: {
                                color: '#ffffff'
                            },
                            data: ['风机电流(A)', '净化器电流(mA)']
                        },
                        xAxis: {
                            type: 'category',
                            name: 'h',
                            data: Data_Date,
                            axisLine: {
                                show: true,
                                lineStyle: {
                                    color: '#6699ff'
                                }
                            },
                            axisLabel: {
                                show: true,
                                textStyle: {
                                    color: '#fff'
                                }
                            }
                        },
                        yAxis: {
                            type: 'value',
                            //name: 'mg/m³',
                            axisLine: {
                                show: true,
                                lineStyle: {
                                    color: '#6699ff'
                                }
                            }
                        },
                        series: [
                            {
                                name: '风机电流(A)',
                                data: Data_amp1,
                                type: 'line',
                                itemStyle: {
                                    normal: {
                                        color: '#ffff00'
                                    }
                                }
                            },
                            {
                                name: '净化器电流(mA)',
                                data: Data_amp2,
                                type: 'line',
                                itemStyle: {
                                    normal: {
                                        color: '#dd3f70'
                                    }
                                }
                            }]
                    };

                    var dom2_2 = document.getElementById("echart8");
                    var myChart2_2 = echarts.init(dom2_2);
                    myChart2_2.setOption(option2_2, true);

                }
            }
        });




    }

    initMap();
</script>


</body>
</html>
